
<!DOCTYPE html>
<html lang class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>【NumPy】学习笔记 - Wiseer</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="WISEER,"> 
    <meta name="description" content="坚持，你所热爱的一切,[TOC]
Python —【NumPy】学习笔记（一）NumPy简介​          NumPy(Numerical Python)是Python语言的一个扩展程序库，支持大量的维度数组于矩阵,"> 
    <meta name="author" content="Shaw Wiseer"> 
    <link rel="alternative" href="atom.xml" title="Wiseer" type="application/atom+xml"> 
    <link rel="icon" href="../../../../img/favicon1.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="../../../../css/diaspora.css">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">Wiseer</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://yoursite.com"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">【NumPy】学习笔记</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">【NumPy】学习笔记</h1>
        <div class="stuff">
            <span>十月 18, 2019</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="../../../../tags/NumPy/">NumPy</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="../../../../tags/Python/">Python</a></li></ul>


        </div>
        <div class="content markdown">
            <p>[TOC]</p>
<h1 id="Python-—【NumPy】学习笔记"><a href="#Python-—【NumPy】学习笔记" class="headerlink" title="Python —【NumPy】学习笔记"></a>Python —【NumPy】学习笔记</h1><h2 id="（一）NumPy简介"><a href="#（一）NumPy简介" class="headerlink" title="（一）NumPy简介"></a>（一）NumPy简介</h2><p>​          NumPy(Numerical Python)是Python语言的一个扩展程序库，支持大量的维度数组于矩阵运算，此外也针对数组运算提供大量的数学函数库。通常与SciPy和Matplotlib(绘图库)一起使用，此组合广泛用于替代MATLAB，有助于通过Python学习数据科学或者机器学习。</p>
<p>​         SciPy是一个开源的Python算法库和数学工具包。包含的模块有<strong>最有化</strong>、线性代数、积分、插值、特殊函数、<strong>快速傅里叶变换</strong>、<strong>信号处理</strong>、<strong>图像处理</strong>、<strong>常微分方程求解</strong>和其他科学于工程中常用的计算。</p>
<p>​        Matplotlib是Python编程语言及其数值数学扩展包NumPy的可视化操作界面。</p>
<p>​        NumPy主要用于数组计算，包含：</p>
<ul>
<li><p>一个强大的N维数组对象 ndarry</p>
</li>
<li><p>广播功能函数</p>
</li>
<li><p>整合c/c++/Fortran代码的工具</p>
</li>
<li><p>线性代数、傅里叶变换、随机数生成等功能</p>
<p>安装命令：<code>python -m pip install --user numpy scipy matplotlib ipython jupyter pandas sympy nose</code></p>
<p>LInux 下安装：<code>sudo apt-get install python-numpy python-scipy python-matplotlib ipython ipython-notebook python-pandas python-sympy python-nose</code></p>
</li>
</ul>
<h2 id="（二）NumPy-Ndarray-对象"><a href="#（二）NumPy-Ndarray-对象" class="headerlink" title="（二）NumPy Ndarray 对象"></a>（二）NumPy Ndarray 对象</h2><p>​         创建一个ndarray只需要用numpy的array函数即可：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.array(object, dtype = <span class="literal">None</span>, copy = <span class="literal">True</span>, order = <span class="literal">None</span>, subok = <span class="literal">False</span>, ndmin = <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>object</td>
<td>数组或嵌套的数列</td>
</tr>
<tr>
<td>dtype</td>
<td>数组元素的数据类型，可选</td>
</tr>
<tr>
<td>copy</td>
<td>对象是否需要复制，可选</td>
</tr>
<tr>
<td>order</td>
<td>创建数组样式，C为行方向，F为列方向，A为任意方向（默认）</td>
</tr>
<tr>
<td>subok</td>
<td>默认返回一个与基类类型一致的数组</td>
</tr>
<tr>
<td>ndmin</td>
<td>指定生成数组的最小维度</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例 1</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">print(a)</span><br><span class="line">------</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例2</span></span><br><span class="line"><span class="comment"># （多一个维度）</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">print(a)</span><br><span class="line">-------</span><br><span class="line">[[<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">   [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例3</span></span><br><span class="line"><span class="comment"># 最小维度</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], ndmin = <span class="number">2</span>)</span><br><span class="line">print(a)</span><br><span class="line">-------</span><br><span class="line">[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例4</span></span><br><span class="line"><span class="comment"># dtype 参数</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype = complex)   <span class="comment">#复数</span></span><br><span class="line">print(a)</span><br><span class="line">------</span><br><span class="line">[<span class="number">1.</span>+<span class="number">0.j</span>, <span class="number">2.</span>+<span class="number">0.j</span>, <span class="number">3.</span>+<span class="number">0.j</span>]</span><br></pre></td></tr></table></figure>
<p>ndarray 对象有计算机内存的连续一维部分组成，并结合索引模式，将每个元素映射到内存块中的一个位置。内存块以行顺序（C样式）或列顺序（F样式）来保存元素</p>
<h2 id="（三）NumPy-数据类型"><a href="#（三）NumPy-数据类型" class="headerlink" title="（三）NumPy 数据类型"></a>（三）NumPy 数据类型</h2><p>常用NumPy基本类型</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool_（‘b’)</td>
<td>布尔型数据类型（True 或者 False）</td>
</tr>
<tr>
<td>int_</td>
<td>默认的整数类型（类似于 C 语言中的 long，int32 或 int64）</td>
</tr>
<tr>
<td>intc</td>
<td>与 C 的 int 类型一样，一般是 int32 或 int 64</td>
</tr>
<tr>
<td>intp</td>
<td>用于索引的整数类型（类似于 C 的 ssize_t，一般情况下仍然是 int32 或 int64）</td>
</tr>
<tr>
<td>int8（‘i1’）</td>
<td>字节（-128 to 127）</td>
</tr>
<tr>
<td>int16（‘i2’）</td>
<td>整数（-32768 to 32767）</td>
</tr>
<tr>
<td>int32（‘i4’）</td>
<td>整数（-2147483648 to 2147483647）</td>
</tr>
<tr>
<td>int64（‘i8’）</td>
<td>整数（-9223372036854775808 to 9223372036854775807）</td>
</tr>
<tr>
<td>uint8（‘u8’）</td>
<td>无符号整数（0 to 255）</td>
</tr>
<tr>
<td>uint16（‘u16’）</td>
<td>无符号整数（0 to 65535）</td>
</tr>
<tr>
<td>uint32（‘u32’）</td>
<td>无符号整数（0 to 4294967295）</td>
</tr>
<tr>
<td>uint64（‘u64’）</td>
<td>无符号整数（0 to 18446744073709551615）</td>
</tr>
<tr>
<td>float_（‘f’）</td>
<td>float64 类型的简写</td>
</tr>
<tr>
<td>float16（‘f16’）</td>
<td>半精度浮点数，包括：1 个符号位，5 个指数位，10 个尾数位</td>
</tr>
<tr>
<td>float32（‘f32’）</td>
<td>单精度浮点数，包括：1 个符号位，8 个指数位，23 个尾数位</td>
</tr>
<tr>
<td>float64（‘f64’）</td>
<td>双精度浮点数，包括：1 个符号位，11 个指数位，52 个尾数位</td>
</tr>
<tr>
<td>complex_（‘c16’）</td>
<td>complex128 类型的简写，即 128 位复数</td>
</tr>
<tr>
<td>complex64（‘c64’）</td>
<td>复数，表示双 32 位浮点数（实数部分和虚数部分）</td>
</tr>
<tr>
<td>complex128（‘c124’）</td>
<td>复数，表示双 64 位浮点数（实数部分和虚数部分）</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#--------------实例1----------</span></span><br><span class="line"><span class="comment"># 首先创建结构化数据类型</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype([(<span class="string">'age'</span>,np.int8)]) </span><br><span class="line">print(dt)  </span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[(<span class="string">'age'</span>, <span class="string">'i1'</span>)]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-------------------实例2------------------</span></span><br><span class="line"><span class="comment"># 将数据类型应用于 ndarray 对象</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype([(<span class="string">'age'</span>,np.int8)]) </span><br><span class="line">a = np.array([(<span class="number">10</span>,),(<span class="number">20</span>,),(<span class="number">30</span>,)], dtype = dt) </span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[(<span class="number">10</span>,) (<span class="number">20</span>,) (<span class="number">30</span>,)]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -------------------实例3------------------</span></span><br><span class="line"><span class="comment"># 类型字段名可以用于存取实际的 age 列</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype([(<span class="string">'age'</span>,np.int8)]) </span><br><span class="line">a = np.array([(<span class="number">10</span>,),(<span class="number">20</span>,),(<span class="number">30</span>,)], dtype = dt) </span><br><span class="line">print(a[<span class="string">'age'</span>])</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">10</span> <span class="number">20</span> <span class="number">30</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ------------------实例4--------------------</span></span><br><span class="line"><span class="comment"># 定义一个结构化数据类型 student，包含字符串字段 name，整数字段 age，及浮点字段 marks，并将这个 dtype 应用到 ndarray 对象</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">student = np.dtype([(<span class="string">'name'</span>,<span class="string">'S20'</span>), (<span class="string">'age'</span>, <span class="string">'i1'</span>), (<span class="string">'marks'</span>, <span class="string">'f4'</span>)]) </span><br><span class="line">print(student)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[(<span class="string">'name'</span>, <span class="string">'S20'</span>), (<span class="string">'age'</span>, <span class="string">'i1'</span>), (<span class="string">'marks'</span>, <span class="string">'&lt;f4'</span>)]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#---------------实例5----------------------</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">student = np.dtype([(<span class="string">'name'</span>,<span class="string">'S20'</span>), (<span class="string">'age'</span>, <span class="string">'i1'</span>), (<span class="string">'marks'</span>, <span class="string">'f4'</span>)]) </span><br><span class="line">a = np.array([(<span class="string">'abc'</span>, <span class="number">21</span>, <span class="number">50</span>),(<span class="string">'xyz'</span>, <span class="number">18</span>, <span class="number">75</span>)], dtype = student) </span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line">[(<span class="string">'abc'</span>, <span class="number">21</span>, <span class="number">50.0</span>), (<span class="string">'xyz'</span>, <span class="number">18</span>, <span class="number">75.0</span>)]</span><br></pre></td></tr></table></figure>
<p>每个内建类型都有一个唯一定义它的字符代码</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>对应类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>b</td>
<td>布尔型</td>
</tr>
<tr>
<td>i</td>
<td>(有符号) 整型</td>
</tr>
<tr>
<td>u</td>
<td>无符号整型 integer</td>
</tr>
<tr>
<td>f</td>
<td>浮点型</td>
</tr>
<tr>
<td>c</td>
<td>复数浮点型</td>
</tr>
<tr>
<td>m</td>
<td>timedelta（时间间隔）</td>
</tr>
<tr>
<td>M</td>
<td>datetime（日期时间）</td>
</tr>
<tr>
<td>O</td>
<td>(Python) 对象</td>
</tr>
<tr>
<td>S, a</td>
<td>(byte-)字符串</td>
</tr>
<tr>
<td>U</td>
<td>Unicode</td>
</tr>
<tr>
<td>V</td>
<td>原始数据 (void)</td>
</tr>
</tbody>
</table>
<h2 id="（四）NumPy数组属性"><a href="#（四）NumPy数组属性" class="headerlink" title="（四）NumPy数组属性"></a>（四）NumPy数组属性</h2><p><strong>秩</strong>（rank)：NumPy数组维数，一维数组的秩为1，二维数组的秩为2，以此类推。</p>
<p><strong>维度</strong>（dimensions)：每一个线性的数组称为是一个轴（axis）</p>
<blockquote>
<p>​         比如说，二维数组相当于是两个一维数组，其中第一个一维数组中每个元素又是一个一维数组。所以一维数组就是 NumPy 中的轴（axis），第一个轴相当于是底层数组，第二个轴是底层数组里的数组。而轴的数量——秩，就是数组的维数.</p>
<p>​         很多时候可以声明 axis。axis=0，表示沿着第 0 轴进行操作，即对每一列进行操作；axis=1，表示沿着第1轴进行操作，即对每一行进行操作。</p>
</blockquote>
<p>NumPy的数组中比较重要ndarray对象属性有：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ndarray.ndim</td>
<td>秩，即轴的数量或维度的数量</td>
</tr>
<tr>
<td>ndarray.shape</td>
<td>数组的维度，对于矩阵，n 行 m 列</td>
</tr>
<tr>
<td>ndarray.size</td>
<td>数组元素的总个数，相当于 .shape 中 n*m 的值</td>
</tr>
<tr>
<td>ndarray.dtype</td>
<td>ndarray 对象的元素类型</td>
</tr>
<tr>
<td>ndarray.itemsize</td>
<td>ndarray 对象中每个元素的大小，以字节为单位</td>
</tr>
<tr>
<td>ndarray.flags</td>
<td>ndarray 对象的内存信息</td>
</tr>
<tr>
<td>ndarray.real</td>
<td>ndarray元素的实部</td>
</tr>
<tr>
<td>ndarray.imag</td>
<td>ndarray 元素的虚部</td>
</tr>
<tr>
<td>ndarray.data</td>
<td>包含实际数组元素的缓冲区，由于一般通过数组的索引获取元素，所以通常不需要使用这个属性。</td>
</tr>
</tbody>
</table>
<h3 id="1-ndarray-ndim-秩"><a href="#1-ndarray-ndim-秩" class="headerlink" title="1. ndarray.ndim  (秩)"></a>1. ndarray.ndim  (秩)</h3><p>用于返回数组的维数，等于秩</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">24</span>)</span><br><span class="line">print(a.ndim)                                      <span class="comment"># a 现只有一个维度</span></span><br><span class="line"><span class="comment">#现在调整其大小 </span></span><br><span class="line">b = a.reshape(<span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>)                       <span class="comment">#b 现在拥有三个维度</span></span><br><span class="line">print(b.ndim)</span><br><span class="line">------</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<h3 id="2-ndarray-shape-维度"><a href="#2-ndarray-shape-维度" class="headerlink" title="2. ndarray.shape(维度)"></a>2. ndarray.shape(维度)</h3><p>表示数组的<strong>维度</strong>，返回一个元组，这个元组的长度就是维度的数目，即 ndim 属性(秩)。比如，一个二维数组，其维度表示”行数”和”列数”。ndarray.shape  也可以用于调整数组大小。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(a.shape)</span><br><span class="line">----</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>)           <span class="comment">#两行三列</span></span><br></pre></td></tr></table></figure>
<p>​         调整数组大小</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">a.shape = (<span class="number">3</span>, <span class="number">2</span>)       <span class="comment"># 转置</span></span><br><span class="line">print(a)</span><br><span class="line">------</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"><span class="string">'''  NumPy 也提供了reshape函数来调整数组大小 ，效果相同 '''</span></span><br></pre></td></tr></table></figure>
<h3 id="3-ndarray-itemsize"><a href="#3-ndarray-itemsize" class="headerlink" title="3. ndarray.itemsize"></a>3. ndarray.itemsize</h3><p>以字节的形式返回数组中每一个元素的大小</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#数组的 dtype为 int8 (一个字节)</span></span><br><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], dtype = np.int8)</span><br><span class="line">print(x. itemsize)</span><br><span class="line"></span><br><span class="line"><span class="comment">#数组的dtype 现在为float64(八个字节)</span></span><br><span class="line">y = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], dtype = np.float64)</span><br><span class="line">print(y.itemsize)</span><br><span class="line">---------</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>
<h3 id="4-ndarray-flags"><a href="#4-ndarray-flags" class="headerlink" title="4. ndarray.flags"></a>4. ndarray.flags</h3><p>返回 ndarray 对象的内存信息，包含以下属性：</p>
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C_CONTIGUOUS (<strong>C</strong>)</td>
<td style="text-align:left">数据是在一个单一的C风格的连续段中</td>
</tr>
<tr>
<td style="text-align:left">F_CONTIGUOUS (<strong>F</strong>)</td>
<td style="text-align:left">数据是在一个单一的Fortran风格的连续段中</td>
</tr>
<tr>
<td style="text-align:left">OWNDATA (<strong>O</strong>)</td>
<td style="text-align:left">数组拥有它所使用的内存或从另一个对象中借用它</td>
</tr>
<tr>
<td style="text-align:left">WRITEABLE (<strong>W</strong>)</td>
<td style="text-align:left">数据区域可以被写入，将该值设置为 False，则数据为只读</td>
</tr>
<tr>
<td style="text-align:left">ALIGNED (<strong>A</strong>)</td>
<td style="text-align:left">数据和所有元素都适当地对齐到硬件上</td>
</tr>
<tr>
<td style="text-align:left">UPDATEIFCOPY (<strong>U</strong>)</td>
<td style="text-align:left">这个数组是其它数组的一个副本，当这个数组被释放时，原数组的内容将被更新</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">print(x.flags)</span><br><span class="line">-----------------结果</span><br><span class="line">C_CONTIGUOUS : <span class="literal">True</span></span><br><span class="line">  F_CONTIGUOUS : <span class="literal">True</span></span><br><span class="line">  OWNDATA : <span class="literal">True</span></span><br><span class="line">  WRITEABLE : <span class="literal">True</span></span><br><span class="line">  ALIGNED : <span class="literal">True</span></span><br><span class="line">  WRITEBACKIFCOPY : <span class="literal">False</span></span><br><span class="line">  UPDATEIFCOPY : <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h2 id="（五）NumPy-创建数组"><a href="#（五）NumPy-创建数组" class="headerlink" title="（五）NumPy 创建数组"></a>（五）NumPy 创建数组</h2><p>​         ndarray 数组除了可以使用底层 ndarray 构造器来创建外，也可以通过以下几种方式来创建。</p>
<h3 id="1-numpy-empty"><a href="#1-numpy-empty" class="headerlink" title="1. numpy.empty"></a>1. numpy.empty</h3><p>方法用来创建一个<strong>指定形状</strong>（shape）、<strong>数据类型</strong>（dtype）且<strong>未初始化的数组</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.empty(shape, dtype = float, order = <span class="string">'c'</span>)</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">shape</td>
<td style="text-align:left">数组形状</td>
</tr>
<tr>
<td style="text-align:left">dtype</td>
<td style="text-align:left">数据类型，可选</td>
</tr>
<tr>
<td style="text-align:left">order</td>
<td style="text-align:left">有”C”和”F”两个选项,分别代表，行优先和列优先，在计算机内存中的存储元素的顺序。</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.empty([<span class="number">3</span>, <span class="number">2</span>], dtype = int)</span><br><span class="line">print(x)</span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line">[[<span class="number">8389754637235789856</span> <span class="number">7526676557237675625</span>]</span><br><span class="line"> [<span class="number">2338340670507589733</span> <span class="number">2318912308847341428</span>]</span><br><span class="line"> [<span class="number">7953747407939397716</span> <span class="number">8391086132248797728</span>]]</span><br><span class="line"><span class="string">''' 数组元素为随机值，因为它们未初始化  '''</span></span><br></pre></td></tr></table></figure>
<h3 id="2-numpy-zeros"><a href="#2-numpy-zeros" class="headerlink" title="2. numpy.zeros"></a>2. numpy.zeros</h3><p>创建<strong>指定大小</strong>的数组，数组元素以 <strong>0</strong> 来填充：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.zeros(shape, dtype = float, order = <span class="string">'c'</span>)</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">shape</td>
<td style="text-align:left">数组形状</td>
</tr>
<tr>
<td style="text-align:left">dtype</td>
<td style="text-align:left">数据类型，可选</td>
</tr>
<tr>
<td style="text-align:left">order</td>
<td style="text-align:left">‘C’ 用于 C 的行数组，或者 ‘F’ 用于 FORTRAN 的列数组</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#实例</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 默认为浮点数</span></span><br><span class="line">x = np.zeros(<span class="number">5</span>)</span><br><span class="line">print(x)</span><br><span class="line"><span class="comment">#------结果----</span></span><br><span class="line">[<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置类型为整数</span></span><br><span class="line">y = np.zeros((<span class="number">5</span>,), dtype = np.int)</span><br><span class="line">print(y)</span><br><span class="line"><span class="comment">#------结果----</span></span><br><span class="line">[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; z = np.zeros((2,2), dtype = [(<span class="string">'x'</span>, <span class="string">'i4'</span>),(<span class="string">'y'</span>,<span class="string">'i4'</span>)])     <span class="comment"># 两行行两列二维数组</span></span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(z)</span><br><span class="line">[[(0, 0) (0, 0)]</span><br><span class="line"> [(0, 0) (0, 0)]]</span><br><span class="line">&gt;&gt;&gt; z = np.zeros((1,2), dtype = [(<span class="string">'x'</span>, <span class="string">'i4'</span>),(<span class="string">'y'</span>,<span class="string">'i4'</span>)])      <span class="comment"># 一行一列二位数组</span></span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(z)</span><br><span class="line">[[(0, 0) (0, 0)]]</span><br><span class="line">&gt;&gt;&gt; z = np.zeros((2,1), dtype = [(<span class="string">'x'</span>, <span class="string">'i4'</span>),(<span class="string">'y'</span>,<span class="string">'i4'</span>)])      <span class="comment"># 两行一列二位数组</span></span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(z)</span><br><span class="line">[[(0, 0)]</span><br><span class="line"> [(0, 0)]]</span><br></pre></td></tr></table></figure>
<h3 id="3-numpy-ones"><a href="#3-numpy-ones" class="headerlink" title="3. numpy.ones"></a>3. numpy.ones</h3><p>创建指定形状的数组，数组元素以 1 来填充：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.ones(shape, dtype = <span class="literal">None</span>, order = <span class="string">'C'</span>)</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">shape</td>
<td style="text-align:left">数组形状</td>
</tr>
<tr>
<td style="text-align:left">dtype</td>
<td style="text-align:left">数据类型，可选</td>
</tr>
<tr>
<td style="text-align:left">order</td>
<td style="text-align:left">‘C’ 用于 C 的行数组，或者 ‘F’ 用于 FORTRAN 的列数组</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line"><span class="comment">#默认为浮点数</span></span><br><span class="line">x = np.ones(<span class="number">5</span>)</span><br><span class="line">print(x)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#自定义类型</span></span><br><span class="line">x = np.ones([<span class="number">2</span>, <span class="number">2</span>], dtype = int)  <span class="comment">#两行两列整数型</span></span><br><span class="line">print(x)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="（六）NumPy-从已有的数组创建数组"><a href="#（六）NumPy-从已有的数组创建数组" class="headerlink" title="（六）NumPy 从已有的数组创建数组"></a>（六）NumPy 从已有的数组创建数组</h2><h3 id="1-numpy-asarray"><a href="#1-numpy-asarray" class="headerlink" title="1. numpy.asarray"></a>1. numpy.asarray</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.asarray(a, dtype = <span class="literal">None</span>, order = <span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>任意形式的输入参数，可以是，列表, 列表的元组, 元组, 元组的元组, 元组的列表，多维数组</td>
</tr>
<tr>
<td>dtype</td>
<td>数据类型，可选</td>
</tr>
<tr>
<td>order</td>
<td>可选，有”C”和”F”两个选项,分别代表，行优先和列优先，在计算机内存中的存储元素的顺序。</td>
</tr>
</tbody>
</table>
<p>实例 1：将<strong>列表</strong>转换为ndarray:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">a = np.asarray(x)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p>实例2：将<strong>元组</strong>转换为 ndarray:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x =  (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) </span><br><span class="line">a = np.asarray(x)  </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p>实例3：将<strong>元组列表</strong>转换为 ndarray</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x =  [(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">4</span>,<span class="number">5</span>)] </span><br><span class="line">a = np.asarray(x)  </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) (<span class="number">4</span>, <span class="number">5</span>)]</span><br></pre></td></tr></table></figure>
<p>设置dtype参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x =  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">a = np.asarray(x, dtype =  float)  </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line">[<span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span>]</span><br></pre></td></tr></table></figure>
<h3 id="2-numpy-frombuffer"><a href="#2-numpy-frombuffer" class="headerlink" title="2. numpy.frombuffer"></a>2. numpy.frombuffer</h3><p><code>numpy.frombuffer</code> 用于<strong>实现动态数组</strong>。numpy.frombuffer接受 buffer 输入参数，以<strong>流的形式</strong>读入转化成 ndarray 对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">numpy.frombuffer(buffer, dtype = float, count = <span class="number">-1</span>, offset = <span class="number">0</span>)</span><br><span class="line"><span class="string">'''注意：buffer 是字符串的时候，Python3 默认 str 是 Unicode 类型，所以要转成 bytestring 在原 str 前加上 b'''</span></span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>buffer</td>
<td>可以是任意对象，会以流的形式读入。</td>
</tr>
<tr>
<td>dtype</td>
<td>返回数组的数据类型，可选</td>
</tr>
<tr>
<td>count</td>
<td>读取的<strong>数据数量</strong>，默认为-1，读取所有数据。</td>
</tr>
<tr>
<td>offset</td>
<td>读取的<strong>起始</strong>位置，默认为0。</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = <span class="string">b'Hello World'</span></span><br><span class="line">a = np.frombuffer(s, dtype = <span class="string">'S1'</span>)  <span class="comment">#字符串</span></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="string">b'H'</span> <span class="string">b'e'</span> <span class="string">b'l'</span> <span class="string">b'l'</span> <span class="string">b'o'</span> <span class="string">b' '</span> <span class="string">b'W'</span> <span class="string">b'o'</span> <span class="string">b'r'</span> <span class="string">b'l'</span> <span class="string">b'd'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="3-numpy-frombuffer"><a href="#3-numpy-frombuffer" class="headerlink" title="3. numpy.frombuffer"></a>3. numpy.frombuffer</h3><p><code>numpy.fromiter</code> 方法从可迭代对象中建立 ndarray 对象，返回一维数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.fromiter(iterable, dtype, count=<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>iterable</td>
<td>可迭代对象</td>
</tr>
<tr>
<td>dtype</td>
<td>返回数组的数据类型</td>
</tr>
<tr>
<td>count</td>
<td>读取的数据数量，默认为-1，读取所有数据</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用range 函数创建列表对象</span></span><br><span class="line">list = range(<span class="number">5</span>)</span><br><span class="line">it = iter(list)</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用迭代器创建 ndarray</span></span><br><span class="line">x = np.fromiter(it, dtype = float)</span><br><span class="line">print(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span>]</span><br></pre></td></tr></table></figure>
<h2 id="（七）NumPy-从数值范围创建数组"><a href="#（七）NumPy-从数值范围创建数组" class="headerlink" title="（七）NumPy 从数值范围创建数组"></a>（七）NumPy 从数值范围创建数组</h2><h3 id="1-numpy-arange"><a href="#1-numpy-arange" class="headerlink" title="1. numpy.arange"></a>1. numpy.arange</h3><p>numpy 包中的使用 arange 函数创建数值范围并返回 ndarray 对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.arange(start, stop, step, dtype)</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>start</code></td>
<td>起始值，默认为<code>0</code></td>
</tr>
<tr>
<td><code>stop</code></td>
<td>终止值（不包含）</td>
</tr>
<tr>
<td><code>step</code></td>
<td>步长，默认为<code>1</code></td>
</tr>
<tr>
<td><code>dtype</code></td>
<td>返回<code>ndarray</code>的数据类型，如果没有提供，则会使用输入数据的类型。</td>
</tr>
</tbody>
</table>
<p>实例1：<strong>生成 0 到 5 的数组</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">x = np.arange(<span class="number">5</span>)  </span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<p>实例2：设置返回<strong>类型位float:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 设置了 dtype</span></span><br><span class="line">x = np.arange(<span class="number">5</span>, dtype =  float)  </span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">0.</span>  <span class="number">1.</span>  <span class="number">2.</span>  <span class="number">3.</span>  <span class="number">4.</span>]</span><br></pre></td></tr></table></figure>
<p>实例3： 设置起始、终止及步长：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.arange(<span class="number">10</span>,<span class="number">20</span>,<span class="number">2</span>)  </span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">10</span>  <span class="number">12</span>  <span class="number">14</span>  <span class="number">16</span>  <span class="number">18</span>]</span><br></pre></td></tr></table></figure>
<h3 id="2-numpy-linspace（等差数列）"><a href="#2-numpy-linspace（等差数列）" class="headerlink" title="2. numpy.linspace（等差数列）"></a>2. numpy.linspace（等差数列）</h3><p>numpy.linspace 函数用于创建一个<strong>一维数组</strong>，数组是一个<strong>等差数列</strong>构成的 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.linspace(start, stop, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, retstep=<span class="literal">False</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>start</code></td>
<td>序列的起始值</td>
</tr>
<tr>
<td><code>stop</code></td>
<td>序列的终止值，如果<code>endpoint</code>为<code>true</code>，该值包含于数列中</td>
</tr>
<tr>
<td><code>num</code></td>
<td>要生成的<strong>等步长</strong>的样本数量，默认为<code>50</code></td>
</tr>
<tr>
<td><code>endpoint</code></td>
<td>该值为 <code>ture</code> 时，数列中中<strong>包含<code>stop</code>值</strong>，反之不包含，默认是True。</td>
</tr>
<tr>
<td><code>retstep</code></td>
<td>如果为 True 时，生成的数组中会<strong>显示间距</strong>，反之不显示。</td>
</tr>
<tr>
<td><code>dtype</code></td>
<td><code>ndarray</code> 的数据类型</td>
</tr>
</tbody>
</table>
<p><strong>实例1</strong>：设置起始点为 1 ，终止点为 10，数列个数为 10</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[ <span class="number">1.</span>  <span class="number">2.</span>  <span class="number">3.</span>  <span class="number">4.</span>  <span class="number">5.</span>  <span class="number">6.</span>  <span class="number">7.</span>  <span class="number">8.</span>  <span class="number">9.</span> <span class="number">10.</span>]</span><br></pre></td></tr></table></figure>
<p><strong>实例2</strong>：设置元素全部是1的等差数列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.linspace(<span class="number">1</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br></pre></td></tr></table></figure>
<p><strong>实例3</strong>：将endpoint设为False，不包含终止值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.linspace(<span class="number">10</span>, <span class="number">20</span>,  <span class="number">5</span>, endpoint =  <span class="literal">False</span>)  </span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">10.</span> <span class="number">12.</span> <span class="number">14.</span> <span class="number">16.</span> <span class="number">18.</span>]     <span class="comment">#如果将 endpoint 设为 true，则会包含 20</span></span><br></pre></td></tr></table></figure>
<p><strong>实例4</strong>：设置间距</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a =np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>,retstep= <span class="literal">True</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">(array([ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>,  <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>]), <span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拓展例子</span></span><br><span class="line">b =np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>).reshape([<span class="number">10</span>,<span class="number">1</span>])</span><br><span class="line">print(b)</span><br><span class="line">[[ <span class="number">1.</span>]</span><br><span class="line"> [ <span class="number">2.</span>]</span><br><span class="line"> [ <span class="number">3.</span>]</span><br><span class="line"> [ <span class="number">4.</span>]</span><br><span class="line"> [ <span class="number">5.</span>]</span><br><span class="line"> [ <span class="number">6.</span>]</span><br><span class="line"> [ <span class="number">7.</span>]</span><br><span class="line"> [ <span class="number">8.</span>]</span><br><span class="line"> [ <span class="number">9.</span>]</span><br><span class="line"> [<span class="number">10.</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="3-numpy-logspace（等比数列）"><a href="#3-numpy-logspace（等比数列）" class="headerlink" title="3. numpy.logspace（等比数列）"></a>3. numpy.logspace（等比数列）</h3><p>numpy.logspace 函数用于创建一个于<strong>等比数列</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.logspace(start, stop, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, base=<span class="number">10.0</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p>base 参数意思是取对数的时候 log 的下标。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>start</code></td>
<td>序列的起始值为：base ** start</td>
</tr>
<tr>
<td><code>stop</code></td>
<td>序列的终止值为：base ** stop。如果<code>endpoint</code>为<code>true</code>，该值包含于数列中</td>
</tr>
<tr>
<td><code>num</code></td>
<td>要生成的<strong>等步长</strong>的样本数量，默认为<code>50</code></td>
</tr>
<tr>
<td><code>endpoint</code></td>
<td>该值为 <code>ture</code> 时，数列中中包含<code>stop</code>值，反之不包含，默认是True。</td>
</tr>
<tr>
<td><code>base</code></td>
<td>对数 log 的<strong>底数</strong>。</td>
</tr>
<tr>
<td><code>dtype</code></td>
<td><code>ndarray</code> 的数据类型</td>
</tr>
</tbody>
</table>
<p>实例1：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 默认底数是 10</span></span><br><span class="line">a = np.logspace(<span class="number">1.0</span>,  <span class="number">2.0</span>, num =  <span class="number">10</span>)   </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[ <span class="number">10.</span>           <span class="number">12.91549665</span>     <span class="number">16.68100537</span>      <span class="number">21.5443469</span>  <span class="number">27.82559402</span>      </span><br><span class="line">  <span class="number">35.93813664</span>   <span class="number">46.41588834</span>     <span class="number">59.94842503</span>      <span class="number">77.42636827</span>    <span class="number">100.</span>    ]</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置底数为2 </span></span><br><span class="line">a = np.logspace(<span class="number">0</span>,<span class="number">9</span>,<span class="number">10</span>,base=<span class="number">2</span>)   <span class="comment">#从0开始到9结束，一共10个数</span></span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">[  <span class="number">1.</span>   <span class="number">2.</span>   <span class="number">4.</span>   <span class="number">8.</span>  <span class="number">16.</span>  <span class="number">32.</span>  <span class="number">64.</span> <span class="number">128.</span> <span class="number">256.</span> <span class="number">512.</span>]</span><br></pre></td></tr></table></figure>
<h2 id="（八）NumPy-切片和索引"><a href="#（八）NumPy-切片和索引" class="headerlink" title="（八）NumPy  切片和索引"></a>（八）NumPy  切片和索引</h2><p>ndarray对象的内容可以通过索引或切片来<strong>访问和修改</strong>，与 Python 中 list 的切片操作一样。</p>
<p>ndarray 数组可以基于 0 - n 的下标进行索引，切片对象可以通过内置的 <strong>slice 函数</strong>，并设置 start, stop 及 step 参数进行，从原数组中切割出一个新数组。</p>
<p>实例1：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">s = slice(<span class="number">2</span>,<span class="number">7</span>,<span class="number">2</span>)   <span class="comment"># 从索引 2 开始到索引 7 停止，间隔为2</span></span><br><span class="line"><span class="keyword">print</span> (a[s])</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">2</span>  <span class="number">4</span>  <span class="number">6</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>以上实例中，我们首先通过 arange() 函数创建 ndarray 对象。 然后，分别设置起始，终止和步长的参数为  2，7 和 2。 </p>
</blockquote>
<p>实例2：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">10</span>)  </span><br><span class="line">b = a[<span class="number">2</span>:<span class="number">7</span>:<span class="number">2</span>]   <span class="comment"># 从索引 2 开始到索引 7 停止，间隔为 2</span></span><br><span class="line">print(b)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">2</span>  <span class="number">4</span>  <span class="number">6</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>冒号 : 的解释：如果只放置一个参数，如 <strong>[2]</strong>，将返回与该索引相对应的单个元素。如果为 <strong>[2:]</strong>，表示从该索引开始以后的所有项都将被提取。如果使用了两个参数，如 <strong>[2:7]</strong>，那么则提取两个索引(不包括停止索引)之间的项。</p>
</blockquote>
<p>实例3：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">10</span>)  <span class="comment"># [0 1 2 3 4 5 6 7 8 9]</span></span><br><span class="line">b = a[<span class="number">5</span>] </span><br><span class="line">print(b)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>实例4：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">print(a[<span class="number">2</span>:]) <span class="comment">#从2 开始到结尾</span></span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<p>实例5：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">10</span>)  <span class="comment"># [0 1 2 3 4 5 6 7 8 9]</span></span><br><span class="line">print(a[<span class="number">2</span>:<span class="number">5</span>])   <span class="comment">#从2开始到5结束</span></span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<p>实例6：多维数组同样适用上述索引提取方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从某个索引处开始切割</span></span><br><span class="line">print(a[<span class="number">1</span>:])</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[[<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br></pre></td></tr></table></figure>
<p><strong>实例7</strong>：切片还可以包括省略号 …，来使选择元组的长度与数组的维度相同。 如果在行位置使用省略号，它将返回包含行中元素的 ndarray。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </span><br><span class="line">print(a)</span><br><span class="line">[ [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">  [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">  [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>] ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (a[...,<span class="number">1</span>])   <span class="comment"># 第2列元素     [2 4 5]</span></span><br><span class="line"><span class="keyword">print</span> (a[<span class="number">1</span>,...])   <span class="comment"># 第2行元素     [3 4 5]</span></span><br><span class="line"><span class="keyword">print</span> (a[...,<span class="number">1</span>:])  <span class="comment"># 第2列及剩下的所有元素</span></span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[[<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="（九）NumPy-高级索引"><a href="#（九）NumPy-高级索引" class="headerlink" title="（九）NumPy 高级索引"></a>（九）NumPy 高级索引</h2><h3 id="1-整数数组索引"><a href="#1-整数数组索引" class="headerlink" title="1. 整数数组索引"></a>1. 整数数组索引</h3><p>实例1：获取数组中(0,0)，(1,1)和(2,0)位置处的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> x = np.array([<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"> y = x [[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]]</span><br><span class="line">print(y)</span><br><span class="line"><span class="comment">#结果</span></span><br><span class="line">[<span class="number">1</span> <span class="number">4</span> <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<p>实例2：获取了 4X3 数组中的四个角的元素。 行索引是 [0,0] 和 [3,3]，而列索引是 [0,2] 和 [0,2]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">    </span><br><span class="line">x = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]])</span><br><span class="line">print(x)</span><br><span class="line"><span class="comment">#------结果----</span></span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"></span><br><span class="line">rows = np.array([[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">3</span>]])</span><br><span class="line">cols = np.array([[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">2</span>]])</span><br><span class="line">y = x[rows,cols]</span><br><span class="line">prin(y)</span><br><span class="line"><span class="comment">#----结果-----</span></span><br><span class="line">[[ <span class="number">0</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">11</span>]]</span><br></pre></td></tr></table></figure>
<p>实例3：可以借助切片 : 或 … 与索引数组组合（注意，下标是从0开始）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line">b = a[<span class="number">1</span>:<span class="number">3</span>, <span class="number">1</span>:<span class="number">3</span>]       <span class="comment">#取第一行、第二行与第一列、第二列相交的元素</span></span><br><span class="line">c = a[<span class="number">1</span>:<span class="number">3</span>, [<span class="number">1</span>,<span class="number">2</span>]]    <span class="comment">#去第一行、第二行的第1个和第2个元素</span></span><br><span class="line">d = a[...,<span class="number">1</span>:]            <span class="comment">#第一列到最后一列所有元素</span></span><br><span class="line">print(a)</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">print(b)</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">9</span>]]</span><br><span class="line">print(c)</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">9</span>]]</span><br><span class="line">print(d)</span><br><span class="line">[[<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">9</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="2-布尔索引"><a href="#2-布尔索引" class="headerlink" title="2. 布尔索引"></a>2. 布尔索引</h3><p>我们可以通过一个布尔数组来索引<strong>目标数组</strong>。布尔索引通过布尔运算（如：比较运算符）来获取符合指定条件的元素的数组。</p>
<p>实例1：获取大于5 的元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]])</span><br><span class="line">print(x)</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">#大于5的元素</span></span><br><span class="line">a = x[x&gt;<span class="number">5</span>]</span><br><span class="line">print(a)</span><br><span class="line">[ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br></pre></td></tr></table></figure>
<p>实例2：使用了 ~（取补运算符）来过滤 NaN</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([np.nan, <span class="number">1</span>,<span class="number">2</span>, np.nan, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">print(a[~np.isnan(a)])</span><br><span class="line">[<span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br></pre></td></tr></table></figure>
<p>实例3：如何从数组中过滤掉非复数元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,  <span class="number">2</span>+<span class="number">6j</span>,  <span class="number">5</span>,  <span class="number">3.5</span>+<span class="number">5j</span>])  </span><br><span class="line"><span class="keyword">print</span> (a[np.iscomplex(a)])</span><br><span class="line">[<span class="number">2.0</span>+<span class="number">6.j</span>  <span class="number">3.5</span>+<span class="number">5.j</span>]</span><br></pre></td></tr></table></figure>
<h3 id="3-花式索引"><a href="#3-花式索引" class="headerlink" title="3. 花式索引"></a>3. 花式索引</h3><p>花式索引指的是<strong>利用整数数组</strong>进行索引。</p>
<p>花式索引根据索引<strong>数组的值</strong>作为<strong>目标数组</strong>的某个轴的下标来取值。对于使用一维整型数组作为索引，如果目标是一维数组，那么索引的结果就是对应位置的元素；如果目标是<strong>二维数组</strong>，那么就是<strong>对应下标的行</strong>。</p>
<p>花式索引跟切片不一样，它总是<strong>将数据复制到新数组中</strong>。</p>
<p><strong>实例1</strong>： 传入<strong>顺序索引</strong>数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 先生成含有32个元素的4行8列矩阵，然后在转置</span></span><br><span class="line">x = np.arange(<span class="number">32</span>).reshape((<span class="number">8</span>,<span class="number">4</span>)) </span><br><span class="line"></span><br><span class="line">print(x)</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]              &lt;-----第<span class="number">0</span>行</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]              &lt;-----第<span class="number">1</span>行</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]           &lt;-----第<span class="number">2</span>行</span><br><span class="line"> [<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]        &lt;-----第<span class="number">3</span>行</span><br><span class="line"> [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]        &lt;-----第<span class="number">4</span>行</span><br><span class="line"> [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]        &lt;-----第<span class="number">5</span>行</span><br><span class="line"> [<span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span>]        &lt;-----第<span class="number">6</span>行</span><br><span class="line"> [<span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>]]      &lt;-----第<span class="number">7</span>行</span><br><span class="line"></span><br><span class="line">print(x[[<span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>,<span class="number">7</span>]])  <span class="comment">#第4行、第2行、第1行、第7行</span></span><br><span class="line">[[<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>]]</span><br></pre></td></tr></table></figure>
<p><strong>实例2</strong>：传入<strong>倒序索引</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x=np.arange(<span class="number">32</span>).reshape((<span class="number">8</span>,<span class="number">4</span>))</span><br><span class="line"><span class="keyword">print</span> (x[[<span class="number">-4</span>,<span class="number">-2</span>,<span class="number">-1</span>,<span class="number">-7</span>]])</span><br><span class="line">[[<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line"> [<span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]]</span><br></pre></td></tr></table></figure>
<p><strong>实例3</strong>：传入多个索引数组（要使用np.ix_）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x=np.arange(<span class="number">32</span>).reshape((<span class="number">8</span>,<span class="number">4</span>))</span><br><span class="line"><span class="keyword">print</span> (x[np.ix_([<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>])]) <span class="comment">#每个行索引都要于列索引相匹配</span></span><br><span class="line">[[ <span class="number">4</span>  <span class="number">7</span>  <span class="number">5</span>  <span class="number">6</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">23</span> <span class="number">21</span> <span class="number">22</span>]</span><br><span class="line"> [<span class="number">28</span> <span class="number">31</span> <span class="number">29</span> <span class="number">30</span>]</span><br><span class="line"> [ <span class="number">8</span> <span class="number">11</span>  <span class="number">9</span> <span class="number">10</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="（十）NumPy-广播-Broadcast"><a href="#（十）NumPy-广播-Broadcast" class="headerlink" title="（十）NumPy 广播(Broadcast)"></a>（十）NumPy 广播(Broadcast)</h2><p>​         广播(Broadcast)是 numpy 对不同形状(shape)的数组进行数值计算的方式， 对数组的算术运算通常在相应的元素上进行。</p>
<p>​        如果两个数组 a 和 b 形状相同，即满足 <strong>a.shape == b.shape</strong>，那么 a*b 的结果就是 a 与 b 数组对应位相乘。</p>
<p>​        <strong>要求</strong>：<strong>维数相同</strong>，且各<strong>维度的长度相同</strong>。</p>
<p><strong>实例1</strong>：形状相同的同维数组相乘</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">b = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>])</span><br><span class="line">c = a * b</span><br><span class="line">print(c)</span><br><span class="line">[ <span class="number">10</span>  <span class="number">40</span>  <span class="number">90</span> <span class="number">160</span>]</span><br></pre></td></tr></table></figure>
<p><strong>实例2</strong>：两个数组的形状不同时，numpy将自动触发广播机制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                           [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>],</span><br><span class="line">                           [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>],</span><br><span class="line">                           [<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>]])</span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">print(a + b)</span><br><span class="line">[[ <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [<span class="number">11</span> <span class="number">12</span> <span class="number">13</span>]</span><br><span class="line"> [<span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]</span><br><span class="line"> [<span class="number">31</span> <span class="number">32</span> <span class="number">33</span>]]</span><br><span class="line"><span class="string">'''4x3 的二维数组与长为 3 的一维数组相加，等效于把数组 b 在二维上重复 4 次再运算'''</span></span><br></pre></td></tr></table></figure>
<p>实例3：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                           [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>],</span><br><span class="line">                           [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>],</span><br><span class="line">                           [<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>]])</span><br><span class="line">b = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">bb = np.tile(b,(<span class="number">4</span>,<span class="number">1</span>))</span><br><span class="line">print(a + bb)</span><br><span class="line">[[ <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [<span class="number">11</span> <span class="number">12</span> <span class="number">13</span>]</span><br><span class="line"> [<span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]</span><br><span class="line"> [<span class="number">31</span> <span class="number">32</span> <span class="number">33</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="广播的规则"><a href="#广播的规则" class="headerlink" title="广播的规则"></a>广播的规则</h3><ul>
<li>让所有输入数组都向其中<strong>形状最长的数组看齐</strong>，形状中不足的部分都通过在前面加 1 补齐。</li>
<li>输出数组的形状是输入数组形状的<strong>各个维度上的最大值</strong>。</li>
<li>如果输入数组的某个维度和输出数组的对应<strong>维度的长度相同</strong>或者其<strong>长度为 1</strong> 时，这个数组能够用来计算，否则出错。</li>
<li>当输入数组的某个维度的<strong>长度为 1</strong> 时，沿着此维度运算时都用此维度上的<strong>第一组值</strong>。</li>
</ul>
<p><strong>简单理解：</strong>对两个数组，分别比较他们的每一个维度（若其中一个数组没有当前维度则忽略），满足：</p>
<ul>
<li>数组拥有相同形状。</li>
<li>当前维度的值相等。</li>
<li>当前维度的值有一个是 1。</li>
</ul>
<h2 id="（十一）NumPy-迭代数组"><a href="#（十一）NumPy-迭代数组" class="headerlink" title="（十一）NumPy 迭代数组"></a>（十一）NumPy 迭代数组</h2><p>NumPy 迭代器对象 numpy.nditer  提供了一种灵活访问一个或者多个数组元素的方式。迭代器最基本的任务的可以完成对数组元素的访问。</p>
<p><strong>实例１</strong>：使用 arange() 函数创建一个 2X3 数组，并使用 nditer 对它进行迭代</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">print(a)</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">#迭代输出元素</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a):</span><br><span class="line">    print(x, end = <span class="string">", "</span>)</span><br><span class="line">    <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>以上实例不是使用标准 C 或者 Fortran 顺序，选择的顺序是和数组内存布局一致的，这样做是为了提升访问的效率，默认是行序优先（row-major order，或者说是 C-order）。</p>
</blockquote>
<p>这反映了默认情况下只需访问每个元素，而无需考虑其特定顺序。我们可以通过迭代上述<strong>数组的转置</strong>来看到这一点，并与以 C 顺序访问数组转置的 copy 方式做对比，如下实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T):</span><br><span class="line">    <span class="keyword">print</span> (x, end=<span class="string">", "</span> )</span><br><span class="line">    <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>,  </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T.copy(order=<span class="string">'C'</span>)):</span><br><span class="line">    <span class="keyword">print</span> (x, end=<span class="string">", "</span> )</span><br><span class="line">    <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>,</span><br></pre></td></tr></table></figure>
<p>从上述例子可以看出，a 和 a.T 的遍历顺序是一样的，也就是他们在内存中的存储顺序也是一样的，但是 a.T.copy(order = ‘C’) 的遍历结果是不同的，那是因为它和前两种的存储方式是不一样的，默认是按行访问。</p>
<h3 id="控制遍历顺序"><a href="#控制遍历顺序" class="headerlink" title="控制遍历顺序"></a>控制遍历顺序</h3><ul>
<li><code>for x in np.nditer(a, order=&#39;F&#39;):</code>Fortran order，即是列序优先；</li>
<li><code>for x in np.nditer(a.T, order=&#39;C&#39;):</code>C order，即是行序优先；</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原始数组是：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>) </span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原始数组的转置是：'</span>) </span><br><span class="line">b = a.T </span><br><span class="line"><span class="keyword">print</span> (b) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>) </span><br><span class="line">原始数组的转置是：</span><br><span class="line">[[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>]</span><br><span class="line"> [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>]</span><br><span class="line"> [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>]</span><br><span class="line"> [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'以 C 风格顺序排序：'</span>) </span><br><span class="line">c = b.copy(order=<span class="string">'C'</span>)  </span><br><span class="line"><span class="keyword">print</span> (c)</span><br><span class="line">以 C 风格顺序排序：</span><br><span class="line">[[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>]</span><br><span class="line"> [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>]</span><br><span class="line"> [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>]</span><br><span class="line"> [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(c):  </span><br><span class="line">    <span class="keyword">print</span> (x, end=<span class="string">", "</span> )</span><br><span class="line">    <span class="number">0</span>, <span class="number">20</span>, <span class="number">40</span>, <span class="number">5</span>, <span class="number">25</span>, <span class="number">45</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">50</span>, <span class="number">15</span>, <span class="number">35</span>, <span class="number">55</span>, </span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span>  (<span class="string">'\n'</span>) </span><br><span class="line"><span class="keyword">print</span>  (<span class="string">'以 F 风格顺序排序：'</span>) <span class="comment">#列方向</span></span><br><span class="line">c = b.copy(order=<span class="string">'F'</span>)  </span><br><span class="line"><span class="keyword">print</span> (c)</span><br><span class="line">以 F 风格顺序排序：</span><br><span class="line">[[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>]</span><br><span class="line"> [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>]</span><br><span class="line"> [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>]</span><br><span class="line"> [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(c):  </span><br><span class="line">    <span class="keyword">print</span> (x, end=<span class="string">", "</span> )</span><br><span class="line">    <span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">40</span>, <span class="number">45</span>, <span class="number">50</span>, <span class="number">55</span>,</span><br></pre></td></tr></table></figure>
<p>实例2：可以通过显式设置，来强制 nditer 对象使用某种顺序：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原始数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'以 C 风格顺序排序：'</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, order =  <span class="string">'C'</span>):  </span><br><span class="line">    <span class="keyword">print</span> (x, end=<span class="string">", "</span> )</span><br><span class="line">    以 C 风格顺序排序：</span><br><span class="line"><span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">40</span>, <span class="number">45</span>, <span class="number">50</span>, <span class="number">55</span>, </span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'以 F 风格顺序排序：'</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, order =  <span class="string">'F'</span>):  </span><br><span class="line">    <span class="keyword">print</span> (x, end=<span class="string">", "</span> )</span><br><span class="line">以 F 风格顺序排序：</span><br><span class="line"><span class="number">0</span>, <span class="number">20</span>, <span class="number">40</span>, <span class="number">5</span>, <span class="number">25</span>, <span class="number">45</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">50</span>, <span class="number">15</span>, <span class="number">35</span>, <span class="number">55</span>,</span><br></pre></td></tr></table></figure>
<h3 id="修改数组中元素的值"><a href="#修改数组中元素的值" class="headerlink" title="修改数组中元素的值"></a>修改数组中元素的值</h3><p>实例1：nditer 对象有另一个可选参数 op_flags。 默认情况下，nditer 将视待迭代遍历的数组为只读对象（read-only），为了在遍历数组的同时，实现对数组元素值得修改，必须指定 <code>**read-write**</code> 或者 <code>write-only</code> 的模式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原始数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, op_flags=[<span class="string">'readwrite'</span>]): </span><br><span class="line">    x[...]=<span class="number">2</span>*x </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">修改后的数组是：</span><br><span class="line">[[  <span class="number">0</span>  <span class="number">10</span>  <span class="number">20</span>  <span class="number">30</span>]</span><br><span class="line"> [ <span class="number">40</span>  <span class="number">50</span>  <span class="number">60</span>  <span class="number">70</span>]</span><br><span class="line"> [ <span class="number">80</span>  <span class="number">90</span> <span class="number">100</span> <span class="number">110</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="使用外部循环"><a href="#使用外部循环" class="headerlink" title="使用外部循环"></a>使用外部循环</h3><p>nditer类的构造器拥有flags参数，它可以接受下列值：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c_index</code></td>
<td>可以跟踪 C 顺序的索引</td>
</tr>
<tr>
<td><code>f_index</code></td>
<td>可以跟踪 Fortran 顺序的索引</td>
</tr>
<tr>
<td><code>multi-index</code></td>
<td>每次迭代可以跟踪一种索引类型</td>
</tr>
<tr>
<td><code>external_loop</code></td>
<td>给出的值是具有多个值的一维数组，而不是零维数组</td>
</tr>
</tbody>
</table>
<p>实例：迭代器遍历对应于每列，并组合为一维数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原始数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原始数组是：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组是：'</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, flags =  [<span class="string">'external_loop'</span>], order =  <span class="string">'F'</span>):  </span><br><span class="line">   <span class="keyword">print</span> (x, end=<span class="string">", "</span> )</span><br><span class="line">修改后的数组是：</span><br><span class="line">[ <span class="number">0</span> <span class="number">20</span> <span class="number">40</span>], [ <span class="number">5</span> <span class="number">25</span> <span class="number">45</span>], [<span class="number">10</span> <span class="number">30</span> <span class="number">50</span>], [<span class="number">15</span> <span class="number">35</span> <span class="number">55</span>],</span><br></pre></td></tr></table></figure>
<h3 id="广播迭代"><a href="#广播迭代" class="headerlink" title="广播迭代"></a>广播迭代</h3><p>如果两个数组是可广播的，nditer 组合对象能够同时迭代它们。 假设数组 a 的维度为 3X4，数组 b 的维度为 1X4 ，则使用以下迭代器（数组 b 被广播到 a 的大小）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="keyword">print</span>  (<span class="string">'第一个数组为：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span>  (<span class="string">'\n'</span>)</span><br><span class="line">第一个数组为：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">5</span> <span class="number">10</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">25</span> <span class="number">30</span> <span class="number">35</span>]</span><br><span class="line"> [<span class="number">40</span> <span class="number">45</span> <span class="number">50</span> <span class="number">55</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组为：'</span>)</span><br><span class="line">b = np.array([<span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>], dtype =  int)  </span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第二个数组为：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组为：'</span>)</span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> np.nditer([a,b]):  </span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"%d:%d"</span>  %  (x,y), end=<span class="string">", "</span> )</span><br><span class="line">    修改后的数组为：</span><br><span class="line"><span class="number">0</span>:<span class="number">1</span>, <span class="number">5</span>:<span class="number">2</span>, <span class="number">10</span>:<span class="number">3</span>, <span class="number">15</span>:<span class="number">4</span>, <span class="number">20</span>:<span class="number">1</span>, <span class="number">25</span>:<span class="number">2</span>, <span class="number">30</span>:<span class="number">3</span>, <span class="number">35</span>:<span class="number">4</span>, <span class="number">40</span>:<span class="number">1</span>, <span class="number">45</span>:<span class="number">2</span>, <span class="number">50</span>:<span class="number">3</span>, <span class="number">55</span>:<span class="number">4</span>,</span><br></pre></td></tr></table></figure>
<h2 id="（十二）Numpy-数组操作"><a href="#（十二）Numpy-数组操作" class="headerlink" title="（十二）Numpy 数组操作"></a>（十二）Numpy 数组操作</h2><p>Numpy 中包含了一些函数用于处理数组，大概可分为以下几类：</p>
<ul>
<li><a href="https://www.runoob.com/numpy/numpy-array-manipulation.html#numpy_oparr1" target="_blank" rel="noopener">修改数组形状</a></li>
<li><a href="https://www.runoob.com/numpy/numpy-array-manipulation.html#numpy_oparr2" target="_blank" rel="noopener">翻转数组</a></li>
<li><a href="https://www.runoob.com/numpy/numpy-array-manipulation.html#numpy_oparr3" target="_blank" rel="noopener">修改数组维度</a></li>
<li><a href="https://www.runoob.com/numpy/numpy-array-manipulation.html#numpy_oparr4" target="_blank" rel="noopener">连接数组</a></li>
<li><a href="https://www.runoob.com/numpy/numpy-array-manipulation.html#numpy_oparr5" target="_blank" rel="noopener">分割数组</a></li>
<li><a href="https://www.runoob.com/numpy/numpy-array-manipulation.html#numpy_oparr6" target="_blank" rel="noopener">数组元素的添加与删除</a></li>
</ul>
<h3 id="修改数组形状"><a href="#修改数组形状" class="headerlink" title="修改数组形状"></a>修改数组形状</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reshape</code></td>
<td>不改变数据的条件下修改形状</td>
</tr>
<tr>
<td><code>flat</code></td>
<td>数组元素迭代器</td>
</tr>
<tr>
<td><code>flatten</code></td>
<td>返回一份数组拷贝，对拷贝所做的修改不会影响原始数组</td>
</tr>
<tr>
<td><code>ravel</code></td>
<td>返回展开数组</td>
</tr>
</tbody>
</table>
<h4 id="numpy-reshape（转置）"><a href="#numpy-reshape（转置）" class="headerlink" title="numpy.reshape（转置）"></a>numpy.reshape（转置）</h4><p>  numpy.reshape 函数可以在不改变数据的条件下修改形状，格式如下： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.reshape(arr, newshape, order=<span class="string">'C'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：要修改形状的数组</li>
<li><code>newshape</code>：整数或者整数数组，新的形状应当兼容原有形状</li>
<li>order：’C’ – 按行，’F’ – 按列，’A’ – 原顺序，’k’ – 元素在内存中的出现顺序。</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">8</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原始数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原始数组：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>]</span><br><span class="line">    </span><br><span class="line">b = a.reshape(<span class="number">4</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">修改后的数组：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">6</span> <span class="number">7</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-ndarray-flat（迭代）"><a href="#numpy-ndarray-flat（迭代）" class="headerlink" title="numpy.ndarray.flat（迭代）"></a>numpy.ndarray.flat（迭代）</h4><p>  numpy.ndarray.flat 是一个数组元素迭代器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原始数组：'</span>)</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> a:</span><br><span class="line">    <span class="keyword">print</span> (row)</span><br><span class="line">    原始数组：</span><br><span class="line">    [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">    [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">    [<span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line"> </span><br><span class="line"><span class="comment">#对数组中每个元素都进行处理，可以使用flat属性，该属性是一个数组元素迭代器：</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'迭代后的数组：'</span>)</span><br><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> a.flat:</span><br><span class="line">    <span class="keyword">print</span> (element)</span><br><span class="line">迭代后的数组：</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>
<h4 id="numpy-ndarray-flatten（展开，不会影响原始数组）"><a href="#numpy-ndarray-flatten（展开，不会影响原始数组）" class="headerlink" title="numpy.ndarray.flatten（展开，不会影响原始数组）"></a>numpy.ndarray.flatten（展开，不会影响原始数组）</h4><p>numpy.ndarray.flatten 返回一份数组拷贝，对拷贝所做的修改不会影响原始数组，格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ndarray.flatten(order=<span class="string">'C'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>order：’C’ – 按行，’F’ – 按列，’A’ – 原顺序，’K’ – 元素在内存中的出现顺序。</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="comment"># 默认按行</span></span><br><span class="line">原数组：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'展开的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a.flatten())</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">展开的数组：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'以 F 风格顺序展开的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a.flatten(order = <span class="string">'F'</span>))</span><br><span class="line">以 F 风格顺序展开的数组：</span><br><span class="line">[<span class="number">0</span> <span class="number">4</span> <span class="number">1</span> <span class="number">5</span> <span class="number">2</span> <span class="number">6</span> <span class="number">3</span> <span class="number">7</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-ravel-（展开，会影响原始数组）"><a href="#numpy-ravel-（展开，会影响原始数组）" class="headerlink" title="numpy.ravel （展开，会影响原始数组）"></a>numpy.ravel （展开，会影响原始数组）</h4><p>numpy.ravel() 展平的数组元素，顺序通常是”C风格”，返回的是数组视图（view，有点类似 C/C++引用reference的意味），修改会影响原始数组。</p>
<p>该函数接收两个参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.ravel(a, order=<span class="string">'C'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>order：’C’ – 按行，’F’ – 按列，’A’ – 原顺序，’K’ – 元素在内存中的出现顺序。</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原数组：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 ravel 函数之后：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a.ravel())</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="comment">#默认是行</span></span><br><span class="line">调用 ravel 函数之后：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'以 F 风格顺序调用 ravel 函数之后：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a.ravel(order = <span class="string">'F'</span>))</span><br><span class="line">以 F 风格顺序调用 ravel 函数之后：</span><br><span class="line">[<span class="number">0</span> <span class="number">4</span> <span class="number">1</span> <span class="number">5</span> <span class="number">2</span> <span class="number">6</span> <span class="number">3</span> <span class="number">7</span>]</span><br></pre></td></tr></table></figure>
<h3 id="翻转数组"><a href="#翻转数组" class="headerlink" title="翻转数组"></a>翻转数组</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>transpose</code></td>
<td>对换数组的维度</td>
</tr>
<tr>
<td><code>ndarray.T</code></td>
<td>和 <code>self.transpose()</code> 相同</td>
</tr>
<tr>
<td><code>rollaxis</code></td>
<td>向后滚动指定的轴</td>
</tr>
<tr>
<td><code>swapaxes</code></td>
<td>对换数组的两个轴</td>
</tr>
</tbody>
</table>
<h4 id="numpy-transpose"><a href="#numpy-transpose" class="headerlink" title="numpy.transpose"></a>numpy.transpose</h4><p> numpy.transpose 函数用于对换数组的维度，格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.transpose(arr, axes)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：要操作的数组</li>
<li><code>axes</code>：整数列表，对应维度，通常所有维度都会对换。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a )</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'对换数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.transpose(a))</span><br><span class="line">对换数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">4</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">1</span>  <span class="number">5</span>  <span class="number">9</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">6</span> <span class="number">10</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">7</span> <span class="number">11</span>]]</span><br></pre></td></tr></table></figure>
<p>numpy.ndarray.T 类似 numpy.transpose：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'转置数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a.T)</span><br><span class="line">转置数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">4</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">1</span>  <span class="number">5</span>  <span class="number">9</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">6</span> <span class="number">10</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">7</span> <span class="number">11</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-rollaxis"><a href="#numpy-rollaxis" class="headerlink" title="numpy.rollaxis"></a>numpy.rollaxis</h4><p>[<a href="https://blog.csdn.net/lothakim/article/details/79494782" target="_blank" rel="noopener">详细解释</a>]</p>
<p>numpy.rollaxis 函数向<strong>后滚动特定的轴</strong>到一个特定位置，格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.rollaxis(arr, axis, start)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：数组</li>
<li><code>axis</code>：要向后滚动的轴，其它轴的相对位置不会改变</li>
<li><code>start</code>：默认为零，表示完整的滚动。会滚动到特定位置。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 创建了三维的 ndarray</span></span><br><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="comment"># 将轴 2 滚动到轴 0（宽度到深度）</span></span><br><span class="line">原数组：</span><br><span class="line">[[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line">  [<span class="number">2</span> <span class="number">3</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">  [<span class="number">6</span> <span class="number">7</span>]]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 rollaxis 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.rollaxis(a,<span class="number">2</span>))</span><br><span class="line"><span class="comment"># 将轴 0 滚动到轴 1：（宽度到高度）</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">调用 rollaxis 函数：</span><br><span class="line">[[[<span class="number">0</span> <span class="number">2</span>]</span><br><span class="line">  [<span class="number">4</span> <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">1</span> <span class="number">3</span>]</span><br><span class="line">  [<span class="number">5</span> <span class="number">7</span>]]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 rollaxis 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.rollaxis(a,<span class="number">2</span>,<span class="number">1</span>))</span><br><span class="line">调用 rollaxis 函数：</span><br><span class="line">[[[<span class="number">0</span> <span class="number">2</span>]</span><br><span class="line">  [<span class="number">1</span> <span class="number">3</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">4</span> <span class="number">6</span>]</span><br><span class="line">  [<span class="number">5</span> <span class="number">7</span>]]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-swapaxes"><a href="#numpy-swapaxes" class="headerlink" title="numpy.swapaxes"></a>numpy.swapaxes</h4><p>numpy.swapaxes 函数用于<strong>交换数组的两个轴</strong>，格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.swapaxes(arr, axis1, axis2)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：输入的数组</li>
<li><code>axis1</code>：对应第一个轴的整数</li>
<li><code>axis2</code>：对应第二个轴的整数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 创建了三维的 ndarray</span></span><br><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原数组：</span><br><span class="line">[[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line">  [<span class="number">2</span> <span class="number">3</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">  [<span class="number">6</span> <span class="number">7</span>]]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 现在交换轴 0（深度方向）到轴 2（宽度方向）</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 swapaxes 函数后的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.swapaxes(a, <span class="number">2</span>, <span class="number">0</span>))</span><br><span class="line">调用 swapaxes 函数后的数组：</span><br><span class="line">[[[<span class="number">0</span> <span class="number">4</span>]</span><br><span class="line">  [<span class="number">2</span> <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">1</span> <span class="number">5</span>]</span><br><span class="line">  [<span class="number">3</span> <span class="number">7</span>]]]</span><br></pre></td></tr></table></figure>
<h3 id="修改数组维度"><a href="#修改数组维度" class="headerlink" title="修改数组维度"></a>修改数组维度</h3><table>
<thead>
<tr>
<th>维度</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>broadcast</code></td>
<td>产生模仿广播的对象</td>
</tr>
<tr>
<td><code>broadcast_to</code></td>
<td>将数组广播到新形状</td>
</tr>
<tr>
<td><code>expand_dims</code></td>
<td>扩展数组的形状</td>
</tr>
<tr>
<td><code>squeeze</code></td>
<td>从数组的形状中删除一维条目</td>
</tr>
</tbody>
</table>
<h4 id="numpy-broadcast"><a href="#numpy-broadcast" class="headerlink" title="numpy.broadcast"></a>numpy.broadcast</h4><p>numpy.broadcast 用于模仿广播的对象，它返回一个对象，该对象封装了将一个数组广播到另一个数组的结果。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">x = np.array([[<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>]])</span><br><span class="line">y = np.array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])  </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 对 y 广播 x</span></span><br><span class="line">b = np.broadcast(x,y)  </span><br><span class="line"><span class="comment"># 它拥有 iterator 属性，基于自身组件的迭代器元组 </span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'对 y 广播 x：'</span>)</span><br><span class="line">r,c = b.iters</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Python3.x 为 next(context)</span></span><br><span class="line"><span class="keyword">print</span> (next(r), next(c))</span><br><span class="line"><span class="number">1</span>,<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (next(r), next(c))</span><br><span class="line"><span class="number">1</span>,<span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># shape 属性返回广播对象的形状 </span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'广播对象的形状：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b.shape)</span><br><span class="line">(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 手动使用 broadcast 将 x 与 y 相加</span></span><br><span class="line">b = np.broadcast(x,y)</span><br><span class="line">c = np.empty(b.shape)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'手动使用 broadcast 将 x 与 y 相加：'</span>)</span><br><span class="line"><span class="keyword">print</span> (c.shape)</span><br><span class="line">(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">c.flat = [u + v <span class="keyword">for</span> (u,v) <span class="keyword">in</span> b]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 flat 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (c)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="comment"># 获得了和 NumPy 内建的广播支持相同的结果</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'x 与 y 的和：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x + y)</span><br></pre></td></tr></table></figure>
<h4 id="numpy-broadcast-to"><a href="#numpy-broadcast-to" class="headerlink" title="numpy.broadcast_to"></a>numpy.broadcast_to</h4><p>numpy.broadcast_to 函数将数组广播到新形状。它在原始数组上返回只读视图。 它通常不连续。 如果新形状不符合 NumPy 的广播规则，该函数可能会抛出ValueError。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.broadcast_to(array, shape, subok)</span><br></pre></td></tr></table></figure>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">4</span>).reshape(<span class="number">1</span>,<span class="number">4</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">原数组：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 broadcast_to 函数之后：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.broadcast_to(a,(<span class="number">4</span>,<span class="number">4</span>)))</span><br><span class="line">调用 broadcast_to 函数之后：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-expand-dims"><a href="#numpy-expand-dims" class="headerlink" title="numpy.expand_dims"></a>numpy.expand_dims</h4><p>numpy.expand_dims 函数通过在指定位置插入新的轴来扩展数组形状，函数格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.expand_dims(arr, axis)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>axis</code>：新轴插入的位置</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">x = np.array(([<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 x：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line">数组 x：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">y = np.expand_dims(x, axis = <span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 y：'</span>)</span><br><span class="line"><span class="keyword">print</span> (y)</span><br><span class="line">数组 y：</span><br><span class="line">[[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">  [<span class="number">3</span> <span class="number">4</span>]]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 x 和 y 的形状：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x.shape, y.shape)</span><br><span class="line">数组 x 和 y 的形状：</span><br><span class="line">(<span class="number">2</span>, <span class="number">2</span>) (<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在位置 1 插入轴</span></span><br><span class="line">y = np.expand_dims(x, axis = <span class="number">1</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'在位置 1 插入轴之后的数组 y：'</span>)</span><br><span class="line"><span class="keyword">print</span> (y)</span><br><span class="line">在位置 <span class="number">1</span> 插入轴之后的数组 y：</span><br><span class="line">[[[<span class="number">1</span> <span class="number">2</span>]]</span><br><span class="line"> [[<span class="number">3</span> <span class="number">4</span>]]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'x.ndim 和 y.ndim：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x.ndim,y.ndim)</span><br><span class="line">x.ndim 和 y.ndim：</span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'x.shape 和 y.shape：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x.shape, y.shape)</span><br><span class="line">x.shape 和 y.shape：</span><br><span class="line">(<span class="number">2</span>, <span class="number">2</span>) (<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h4 id="numpy-squeeze"><a href="#numpy-squeeze" class="headerlink" title="numpy.squeeze"></a>numpy.squeeze</h4><p>numpy.squeeze 函数从给定数组的形状中<strong>删除一维的条目</strong>，函数格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.squeeze(arr, axis)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>axis</code>：整数或整数元组，用于选择形状中一维条目的子集</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">x = np.arange(<span class="number">9</span>).reshape(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 x：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">数组 x：</span><br><span class="line">[[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">  [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">  [<span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]]]</span><br><span class="line"></span><br><span class="line">y = np.squeeze(x)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 y：'</span>)</span><br><span class="line"><span class="keyword">print</span> (y)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">数组 y：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 x 和 y 的形状：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x.shape, y.shape)</span><br><span class="line">数组 x 和 y 的形状：</span><br><span class="line">(<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>) (<span class="number">3</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h3 id="连接数组"><a href="#连接数组" class="headerlink" title="连接数组"></a>连接数组</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>concatenate</code></td>
<td>连接沿现有轴的数组序列</td>
</tr>
<tr>
<td><code>stack</code></td>
<td>沿着新的轴加入一系列数组。</td>
</tr>
<tr>
<td><code>hstack</code></td>
<td>水平堆叠序列中的数组（列方向）</td>
</tr>
<tr>
<td><code>vstack</code></td>
<td>竖直堆叠序列中的数组（行方向）</td>
</tr>
</tbody>
</table>
<h4 id="numpy-concatenate-（连接）"><a href="#numpy-concatenate-（连接）" class="headerlink" title="numpy.concatenate （连接）"></a>numpy.concatenate （连接）</h4><p>numpy.concatenate 函数用于沿指定轴连接相同形状的两个或多个数组，格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.concatenate((a1, a2, ...), axis)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>a1, a2, ...</code>：相同类型的数组</li>
<li><code>axis</code>：沿着它连接数组的轴，<strong>默认为 0</strong></li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第二个数组：</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 两个数组的维度相同</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 连接两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.concatenate((a,b))) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">沿轴 <span class="number">0</span> 连接两个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 连接两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.concatenate((a,b),axis = <span class="number">1</span>))</span><br><span class="line">沿轴 <span class="number">1</span> 连接两个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">7</span> <span class="number">8</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-stack-（叠加）"><a href="#numpy-stack-（叠加）" class="headerlink" title="numpy.stack （叠加）"></a>numpy.stack （叠加）</h4><p>numpy.stack 函数用于<strong>沿新轴连接数组序列</strong>，格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.stack(arrays, axis)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arrays</code>：<strong>相同形状的数组序列</strong></li>
<li><code>axis</code>：返回数组中的轴，输入数组沿着它来堆叠</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第二个数组：</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 堆叠两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.stack((a,b),<span class="number">0</span>))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">沿轴 <span class="number">0</span> 堆叠两个数组：</span><br><span class="line">[[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">  [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line">  [<span class="number">7</span> <span class="number">8</span>]]]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 堆叠两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.stack((a,b),<span class="number">1</span>))</span><br><span class="line">沿轴 <span class="number">1</span> 堆叠两个数组：</span><br><span class="line">[[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">  [<span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line">  [<span class="number">7</span> <span class="number">8</span>]]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-hstack（水平叠加）"><a href="#numpy-hstack（水平叠加）" class="headerlink" title="numpy.hstack（水平叠加）"></a>numpy.hstack（水平叠加）</h4><p>numpy.hstack 是 numpy.stack 函数的变体，它通过水平堆叠来生成数组。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第二个数组：</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'水平堆叠：'</span>)</span><br><span class="line">c = np.hstack((a,b))</span><br><span class="line"><span class="keyword">print</span> (c)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">水平堆叠：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">7</span> <span class="number">8</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-vstack（竖直叠加）"><a href="#numpy-vstack（竖直叠加）" class="headerlink" title="numpy.vstack（竖直叠加）"></a>numpy.vstack（竖直叠加）</h4><p>numpy.vstack 是 numpy.stack 函数的变体，它通过垂直堆叠来生成数组。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第二个数组：</span><br><span class="line">[[<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'竖直堆叠：'</span>)</span><br><span class="line">c = np.vstack((a,b))</span><br><span class="line"><span class="keyword">print</span> (c)</span><br><span class="line">竖直堆叠：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="分割数组"><a href="#分割数组" class="headerlink" title="分割数组"></a>分割数组</h3><table>
<thead>
<tr>
<th>函数</th>
<th>数组及操作</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>split</code></td>
<td>将一个数组分割为多个子数组</td>
</tr>
<tr>
<td><code>hsplit</code></td>
<td>将一个数组水平分割为多个子数组（按列）</td>
</tr>
<tr>
<td><code>vsplit</code></td>
<td>将一个数组垂直分割为多个子数组（按行）</td>
</tr>
</tbody>
</table>
<h4 id="numpy-split（特轴分割）"><a href="#numpy-split（特轴分割）" class="headerlink" title="numpy.split（特轴分割）"></a>numpy.split（特轴分割）</h4><p>numpy.split 函数沿特定的轴将数组分割为子数组，格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.split(ary, indices_or_sections, axis)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>ary</code>：被分割的数组</li>
<li><code>indices_or_sections</code>：果是一个整数，就用该数平均切分，如果是一个数组，为沿轴切分的位置（左开右闭） </li>
<li><code>axis</code>：沿着哪个维度进行切向，默认为0，横向切分。为1时，纵向切分</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">9</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第一个数组：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'将数组分为三个大小相等的子数组：'</span>)</span><br><span class="line">b = np.split(a,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">将数组分为三个大小相等的子数组：</span><br><span class="line">[array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]), array([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]), array([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'将数组在一维数组中表明的位置分割：'</span>)</span><br><span class="line">b = np.split(a,[<span class="number">4</span>,<span class="number">7</span>])</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">将数组在一维数组中表明的位置分割：</span><br><span class="line">[array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]), array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]), array([<span class="number">7</span>, <span class="number">8</span>])]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-hsplit（水平分割）"><a href="#numpy-hsplit（水平分割）" class="headerlink" title="numpy.hsplit（水平分割）"></a>numpy.hsplit（水平分割）</h4><p>numpy.hsplit 函数用于水平分割数组，通过指定要返回的相同形状的数组数量来拆分原数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">harr = np.floor(<span class="number">10</span> * np.random.random((<span class="number">2</span>, <span class="number">6</span>)))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原array：'</span>)</span><br><span class="line">print(harr)</span><br><span class="line">原array：</span><br><span class="line">[[<span class="number">4.</span> <span class="number">7.</span> <span class="number">6.</span> <span class="number">3.</span> <span class="number">2.</span> <span class="number">6.</span>]</span><br><span class="line"> [<span class="number">6.</span> <span class="number">3.</span> <span class="number">6.</span> <span class="number">7.</span> <span class="number">9.</span> <span class="number">7.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'拆分后：'</span>)</span><br><span class="line">print(np.hsplit(harr, <span class="number">3</span>))</span><br><span class="line">拆分后：</span><br><span class="line">[array([[<span class="number">4.</span>, <span class="number">7.</span>],       [<span class="number">6.</span>, <span class="number">3.</span>]]),</span><br><span class="line"> array([[<span class="number">6.</span>, <span class="number">3.</span>],       [<span class="number">6.</span>, <span class="number">7.</span>]]), </span><br><span class="line"> array([[<span class="number">2.</span>, <span class="number">6.</span>],       [<span class="number">9.</span>, <span class="number">7.</span>]])]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-vsplit-（垂直分割）"><a href="#numpy-vsplit-（垂直分割）" class="headerlink" title="numpy.vsplit （垂直分割）"></a>numpy.vsplit （垂直分割）</h4><p>numpy.vsplit 沿着垂直轴分割，其分割方式与hsplit用法相同。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line">第一个数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"> [<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'竖直分割：'</span>)</span><br><span class="line">b = np.vsplit(a,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">竖直分割：</span><br><span class="line">[array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],       [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]]),</span><br><span class="line"> array([[ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],       [<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]])]</span><br></pre></td></tr></table></figure>
<h3 id="数组元素的添加与删除"><a href="#数组元素的添加与删除" class="headerlink" title="数组元素的添加与删除"></a>数组元素的添加与删除</h3><table>
<thead>
<tr>
<th>函数</th>
<th>元素及描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>resize</code></td>
<td>返回指定形状的新数组</td>
</tr>
<tr>
<td><code>append</code></td>
<td>将值添加到数组末尾</td>
</tr>
<tr>
<td><code>insert</code></td>
<td>沿指定轴将值插入到指定下标之前</td>
</tr>
<tr>
<td><code>delete</code></td>
<td>删掉某个轴的子数组，并返回删除后的新数组</td>
</tr>
<tr>
<td><code>unique</code></td>
<td>查找数组内的唯一元素</td>
</tr>
</tbody>
</table>
<h4 id="numpy-resize（大小）"><a href="#numpy-resize（大小）" class="headerlink" title="numpy.resize（大小）"></a>numpy.resize（大小）</h4><p>numpy.resize 函数返回指定大小的新数组。  如果新数组大小大于原始大小，则包含原始数组中的元素的副本。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.resize(arr, shape)</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>arr</code>：要修改大小的数组</p>
</li>
<li><p><code>shape</code>：返回数组的新形状</p>
</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"> 第一个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组的形状：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a.shape)</span><br><span class="line">第一个数组的形状：</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">b = np.resize(a, (<span class="number">3</span>,<span class="number">2</span>))  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">第二个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组的形状：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b.shape)</span><br><span class="line"><span class="comment"># 要注意 a 的第一行在 b 中重复出现，因为尺寸变大了</span></span><br><span class="line">第二个数组的形状：</span><br><span class="line">(<span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改第二个数组的大小：'</span>)</span><br><span class="line">b = np.resize(a,(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">修改第二个数组的大小：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-append"><a href="#numpy-append" class="headerlink" title="numpy.append"></a>numpy.append</h4><p>numpy.append 函数在数组的<strong>末尾添加值</strong>。 追加操作会分配整个数组，并把原来的数组复制到新数组中。 此外，输入数组的维度必须匹配否则将生成ValueError。</p>
<p>append 函数返回的始终是一个一维数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.append(arr, values, axis=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>values</code>：要向<code>arr</code>添加的值，需要和<code>arr</code><strong>形状相同</strong>（除了要添加的轴）</li>
<li><code>axis</code>：默认为 None。当axis无定义时，是<strong>横向加成</strong>，返回总是为一维数组！当axis有定义的时候，分别为0和1的时候。当axis有定义的时候，分别为0和1的时候（列数要相同）。当axis为1时，数组是加在右边（行数要相同）。</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'向数组添加元素：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.append(a, [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]))</span><br><span class="line">向数组添加元素：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 添加元素：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.append(a, [[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],axis = <span class="number">0</span>))</span><br><span class="line">沿轴 <span class="number">0</span> 添加元素：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 添加元素：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.append(a, [[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],axis = <span class="number">1</span>))</span><br><span class="line">沿轴 <span class="number">1</span> 添加元素：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-insert"><a href="#numpy-insert" class="headerlink" title="numpy.insert"></a>numpy.insert</h4><p> numpy.insert 函数在<strong>给定索引之前</strong>，沿给定轴在输入数组中插入值。</p>
<p> 如果值的类型转换为要插入，则它与输入数组不同。 插入没有原地的，函数会返回一个新数组。 此外，如果未提供轴，则输入数组会被展开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.insert(arr, obj, values, axis)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>obj</code>：在其之前插入值的索引</li>
<li><code>values</code>：要插入的值</li>
<li><code>axis</code>：沿着它插入的轴，如果未提供，则输入数组会被展开</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'未传递 Axis 参数。 在插入之前输入数组会被展开。'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.insert(a,<span class="number">3</span>,[<span class="number">11</span>,<span class="number">12</span>]))</span><br><span class="line">未传递 Axis 参数。 在插入之前输入数组会被展开。</span><br><span class="line">[ <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span> <span class="number">11</span> <span class="number">12</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'传递了 Axis 参数。 会广播值数组来配输入数组。'</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 广播：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.insert(a,<span class="number">1</span>,[<span class="number">11</span>],axis = <span class="number">0</span>))</span><br><span class="line">传递了 Axis 参数。 会广播值数组来配输入数组。</span><br><span class="line">沿轴 <span class="number">0</span> 广播：</span><br><span class="line">[[ <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [<span class="number">11</span> <span class="number">11</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">4</span>]</span><br><span class="line"> [ <span class="number">5</span>  <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 广播：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.insert(a,<span class="number">1</span>,<span class="number">11</span>,axis = <span class="number">1</span>))</span><br><span class="line">沿轴 <span class="number">1</span> 广播：</span><br><span class="line">[[ <span class="number">1</span> <span class="number">11</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">3</span> <span class="number">11</span>  <span class="number">4</span>]</span><br><span class="line"> [ <span class="number">5</span> <span class="number">11</span>  <span class="number">6</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-delete"><a href="#numpy-delete" class="headerlink" title="numpy.delete"></a>numpy.delete</h4><p>numpy.delete 函数返回从输入数组中删除指定子数组的新数组。 与 insert() 函数的情况一样，如果未提供轴参数，则输入数组将展开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Numpy.delete(arr, obj, axis)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>obj</code>：可以被切片，整数或者整数数组，表明要从输入数组删除的子数组</li>
<li><code>axis</code>：沿着它删除给定子数组的轴，如果未提供，则输入数组会被展开</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">第一个数组：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'未传递 Axis 参数。 在插入之前输入数组会被展开。'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.delete(a,<span class="number">5</span>))</span><br><span class="line">未传递 Axis 参数。 在插入之前输入数组会被展开。</span><br><span class="line">[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'删除第二列：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.delete(a,<span class="number">1</span>,axis = <span class="number">1</span>))</span><br><span class="line">删除第二列：</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'包含从数组中删除的替代值的切片：'</span>)</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>])</span><br><span class="line"><span class="keyword">print</span> (np.delete(a, np.s_[::<span class="number">2</span>])</span><br><span class="line"> 包含从数组中删除的替代值的切片：</span><br><span class="line">[ <span class="number">2</span>  <span class="number">4</span>  <span class="number">6</span>  <span class="number">8</span> <span class="number">10</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-unique（去重复）"><a href="#numpy-unique（去重复）" class="headerlink" title="numpy.unique（去重复）"></a>numpy.unique（去重复）</h4><p>numpy.unique 函数用于去除数组中的重复元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.unique(arr, return_index, return_inverse, return_counts)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：输入数组，如果不是一维数组则会展开</li>
<li><code>return_index</code>：如果为<code>true</code>，返回新列表元素在旧列表中的位置（下标），并以列表形式储</li>
<li><code>return_inverse</code>：如果为<code>true</code>，返回旧列表元素在新列表中的位置（下标），并以列表形式储</li>
<li><code>return_counts</code>：如果为<code>true</code>，返回去重数组中的元素在原数组中的出现次数</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">9</span>])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">第一个数组：</span><br><span class="line">[<span class="number">5</span> <span class="number">2</span> <span class="number">6</span> <span class="number">2</span> <span class="number">7</span> <span class="number">5</span> <span class="number">6</span> <span class="number">8</span> <span class="number">2</span> <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组的去重值：'</span>)</span><br><span class="line">u = np.unique(a)</span><br><span class="line"><span class="keyword">print</span> (u)</span><br><span class="line">第一个数组的去重值：</span><br><span class="line">[<span class="number">2</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'去重数组的索引数组：'</span>)</span><br><span class="line">u,indices = np.unique(a, return_index = <span class="literal">True</span>)</span><br><span class="line"><span class="keyword">print</span> (indices)</span><br><span class="line">去重数组的索引数组：</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">4</span> <span class="number">7</span> <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'去重数组的下标：'</span>)</span><br><span class="line">u,indices = np.unique(a,return_inverse = <span class="literal">True</span>)</span><br><span class="line"><span class="keyword">print</span> (u)</span><br><span class="line">去重数组的下标：</span><br><span class="line">[<span class="number">2</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line">     </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'下标为：'</span>)</span><br><span class="line"><span class="keyword">print</span> (indices)</span><br><span class="line">下标为：</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span> <span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">0</span> <span class="number">5</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'使用下标重构原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (u[indices])</span><br><span class="line">使用下标重构原数组：</span><br><span class="line">[<span class="number">5</span> <span class="number">2</span> <span class="number">6</span> <span class="number">2</span> <span class="number">7</span> <span class="number">5</span> <span class="number">6</span> <span class="number">8</span> <span class="number">2</span> <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'返回去重元素的重复数量：'</span>)</span><br><span class="line">u,indices = np.unique(a,return_counts = <span class="literal">True</span>)</span><br><span class="line"><span class="keyword">print</span> (u)</span><br><span class="line"><span class="keyword">print</span> (indices)</span><br><span class="line">返回去重元素的重复数量：</span><br><span class="line">[<span class="number">2</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line">[<span class="number">3</span> <span class="number">2</span> <span class="number">2</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h2 id="（十三）NumPy-位运算"><a href="#（十三）NumPy-位运算" class="headerlink" title="（十三）NumPy 位运算"></a>（十三）NumPy 位运算</h2><p>NumPy <strong>“bitwise_”</strong> 开头的函数是位运算函数。</p>
<p>NumPy  位运算包括以下几个函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bitwise_and</code></td>
<td>对数组元素执行位与操作</td>
</tr>
<tr>
<td><code>bitwise_or</code></td>
<td>对数组元素执行位或操作</td>
</tr>
<tr>
<td><code>invert</code></td>
<td>按位取反</td>
</tr>
<tr>
<td><code>left_shift</code></td>
<td>向左移动二进制表示的位</td>
</tr>
<tr>
<td><code>right_shift</code></td>
<td>向右移动二进制表示的位</td>
</tr>
</tbody>
</table>
<p><strong>注：</strong>也可以使用 “&amp;”、 “~”、 “|” 和 “^” 等操作符进行计算。</p>
<h4 id="bitwise-and"><a href="#bitwise-and" class="headerlink" title="bitwise_and"></a>bitwise_and</h4><p>bitwise_and() 函数对数组中整数的二进制形式执行位与运算。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'13 和 17 的二进制形式：'</span>)</span><br><span class="line">a,b = <span class="number">13</span>,<span class="number">17</span></span><br><span class="line"><span class="keyword">print</span> (bin(a), bin(b))</span><br><span class="line"><span class="number">13</span> 和 <span class="number">17</span> 的二进制形式：</span><br><span class="line"><span class="number">0b1101</span> <span class="number">0b10001</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'13 和 17 的位与：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.bitwise_and(<span class="number">13</span>, <span class="number">17</span>))</span><br><span class="line"><span class="number">13</span> 和 <span class="number">17</span> 的位与：</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="bitwise-or"><a href="#bitwise-or" class="headerlink" title="bitwise_or"></a>bitwise_or</h4><p>bitwise_or()函数对数组中整数的二进制形式执行位或运算。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a,b = <span class="number">13</span>,<span class="number">17</span> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'13 和 17 的二进制形式：'</span>)</span><br><span class="line"><span class="keyword">print</span> (bin(a), bin(b))</span><br><span class="line"><span class="number">13</span> 和 <span class="number">17</span> 的二进制形式：</span><br><span class="line"><span class="number">0b1101</span> <span class="number">0b10001</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'13 和 17 的位或：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.bitwise_or(<span class="number">13</span>, <span class="number">17</span>))</span><br><span class="line"><span class="number">13</span> 和 <span class="number">17</span> 的位或：</span><br><span class="line"><span class="number">29</span></span><br></pre></td></tr></table></figure>
<h4 id="invert"><a href="#invert" class="headerlink" title="invert"></a>invert</h4><p>invert() 函数对数组中整数进行位取反运算，即 0 变成 1，1 变成 0。 </p>
<p>对于有符号整数，取该二进制数的补码，然后 +1。二进制数，最高位为0表示正数，最高位为 1 表示负数。</p>
<p>看看 ~1 的计算步骤：</p>
<ul>
<li><p>将<strong>1</strong>(这里叫：原码)转二进制 ＝ <strong>00000001</strong></p>
</li>
<li><p>按位取反 ＝ <strong>11111110</strong></p>
</li>
<li><p>发现符号位(即最高位)为<strong>1</strong>(表示负数)，将除符号位之外的其他数字取反 ＝ <strong>10000001</strong></p>
</li>
<li><p>末位加1取其补码 ＝ <strong>10000010</strong></p>
</li>
<li><p>转换回十进制 ＝ <strong>-2</strong></p>
</li>
<li><p>| 表达式 | 二进制值（2 的补数）                | 十进制值 |<br>| —— | ———————————– | ——– |<br>| 5      | 00000000 00000000 00000000 0000010  | 5        |<br>| ~5     | 11111111 11111111 11111111 11111010 | -6       |</p>
</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'13 的位反转，其中 ndarray 的 dtype 是 uint8：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.invert(np.array([<span class="number">13</span>], dtype = np.uint8)))</span><br><span class="line"><span class="number">13</span> 的位反转，其中 ndarray 的 dtype 是 uint8：</span><br><span class="line">[<span class="number">242</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较 13 和 242 的二进制表示，我们发现了位的反转</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'13 的二进制表示：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.binary_repr(<span class="number">13</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="number">13</span> 的二进制表示：</span><br><span class="line"><span class="number">00001101</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'242 的二进制表示：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.binary_repr(<span class="number">242</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="number">242</span> 的二进制表示：</span><br><span class="line"><span class="number">11110010</span></span><br></pre></td></tr></table></figure>
<h4 id="left-shift"><a href="#left-shift" class="headerlink" title="left_shift"></a>left_shift</h4><p>left_shift() 函数将数组元素的二进制形式向左移动到指定位置，右侧附加相等数量的 0。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'将 10 左移两位：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.left_shift(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">将 <span class="number">10</span> 左移两位：</span><br><span class="line"><span class="number">40</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'10 的二进制表示：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.binary_repr(<span class="number">10</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="number">10</span> 的二进制表示：</span><br><span class="line"><span class="number">00001010</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'40 的二进制表示：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.binary_repr(<span class="number">40</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="comment">#  '00001010' 中的两位移动到了左边，并在右边添加了两个 0</span></span><br><span class="line"><span class="number">40</span> 的二进制表示：</span><br><span class="line"><span class="number">00101000</span></span><br></pre></td></tr></table></figure>
<h4 id="right-shift"><a href="#right-shift" class="headerlink" title="right_shift"></a>right_shift</h4><p>right_shift() 函数将数组元素的二进制形式向右移动到指定位置，左侧附加相等数量的 0。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'将 40 右移两位：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.right_shift(<span class="number">40</span>,<span class="number">2</span>))</span><br><span class="line">将 <span class="number">40</span> 右移两位：</span><br><span class="line"><span class="number">10</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'40 的二进制表示：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.binary_repr(<span class="number">40</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="number">40</span> 的二进制表示：</span><br><span class="line"><span class="number">00101000</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'10 的二进制表示：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.binary_repr(<span class="number">10</span>, width = <span class="number">8</span>))</span><br><span class="line"><span class="comment">#  '00001010' 中的两位移动到了右边，并在左边添加了两个 0</span></span><br><span class="line"><span class="number">10</span> 的二进制表示：</span><br><span class="line"><span class="number">00001010</span></span><br></pre></td></tr></table></figure>
<h2 id="（十四）NumPy-字符串函数"><a href="#（十四）NumPy-字符串函数" class="headerlink" title="（十四）NumPy 字符串函数"></a>（十四）NumPy 字符串函数</h2><p>​         以下函数用于对 dtype 为 numpy.string_ 或 numpy.unicode_ 的数组执行向量化字符串操作。 它们基于 Python 内置库中的标准字符串函数。</p>
<p>这些函数在字符数组类（numpy.char）中定义。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>add()</code></td>
<td>对两个数组的逐个字符串元素进行连接</td>
</tr>
<tr>
<td>multiply()</td>
<td>返回按元素多重连接后的字符串</td>
</tr>
<tr>
<td><code>center()</code></td>
<td>居中字符串</td>
</tr>
<tr>
<td><code>capitalize()</code></td>
<td>将字符串第一个字母转换为大写</td>
</tr>
<tr>
<td><code>title()</code></td>
<td>将字符串的每个单词的第一个字母转换为大写</td>
</tr>
<tr>
<td><code>lower()</code></td>
<td>数组元素转换为小写</td>
</tr>
<tr>
<td><code>upper()</code></td>
<td>数组元素转换为大写</td>
</tr>
<tr>
<td><code>split()</code></td>
<td>指定分隔符对字符串进行分割，并返回数组列表</td>
</tr>
<tr>
<td><code>splitlines()</code></td>
<td>返回元素中的行列表，以换行符分割</td>
</tr>
<tr>
<td><code>strip()</code></td>
<td>移除元素开头或者结尾处的特定字符</td>
</tr>
<tr>
<td><code>join()</code></td>
<td>通过指定分隔符来连接数组中的元素</td>
</tr>
<tr>
<td><code>replace()</code></td>
<td>使用新字符串替换字符串中的所有子字符串</td>
</tr>
<tr>
<td><code>decode()</code></td>
<td>数组元素依次调用<code>str.decode</code></td>
</tr>
<tr>
<td><code>encode()</code></td>
<td>数组元素依次调用<code>str.encode</code></td>
</tr>
</tbody>
</table>
<h4 id="numpy-char-add"><a href="#numpy-char-add" class="headerlink" title="numpy.char.add()"></a>numpy.char.add()</h4><p>numpy.char.add() 函数依次对两个数组的元素进行字符串连接。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'连接两个字符串：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.char.add([<span class="string">'hello'</span>],[<span class="string">' xyz'</span>]))</span><br><span class="line">连接两个字符串：</span><br><span class="line">[<span class="string">'hello xyz'</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'连接示例：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.char.add([<span class="string">'hello'</span>, <span class="string">'hi'</span>],[<span class="string">' abc'</span>, <span class="string">' xyz'</span>]))</span><br><span class="line">连接示例：</span><br><span class="line">[<span class="string">'hello abc'</span> <span class="string">'hi xyz'</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-multiply"><a href="#numpy-char-multiply" class="headerlink" title="numpy.char.multiply()"></a>numpy.char.multiply()</h4><p>numpy.char.multiply() 函数执行多重连接。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (np.char.multiply(<span class="string">'Runoob '</span>,<span class="number">3</span>))</span><br><span class="line">Runoob Runoob Runoob</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-center"><a href="#numpy-char-center" class="headerlink" title="numpy.char.center()"></a>numpy.char.center()</h4><p>numpy.char.center() 函数用于将字符串居中，并使用指定字符在左侧和右侧进行填充。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># np.char.center(str , width,fillchar) ：</span></span><br><span class="line"><span class="comment"># str: 字符串，width: 长度，fillchar: 填充字符</span></span><br><span class="line"><span class="keyword">print</span> (np.char.center(<span class="string">'Runoob'</span>, <span class="number">20</span>,fillchar = <span class="string">'*'</span>))</span><br><span class="line">*******Runoob*******</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-capitalize"><a href="#numpy-char-capitalize" class="headerlink" title="numpy.char.capitalize()"></a>numpy.char.capitalize()</h4><p>numpy.char.capitalize() 函数将字符串的第一个字母转换为大写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (np.char.capitalize(<span class="string">'runoob'</span>))</span><br><span class="line">Runoob</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-title"><a href="#numpy-char-title" class="headerlink" title="numpy.char.title()"></a>numpy.char.title()</h4><p>numpy.char.title() 函数将字符串的每个单词的<strong>第一个字母转换为大写</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (np.char.title(<span class="string">'i like runoob'</span>))</span><br><span class="line">I Like Runoob</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-lower"><a href="#numpy-char-lower" class="headerlink" title="numpy.char.lower()"></a>numpy.char.lower()</h4><p>numpy.char.lower() 函数对数组的每个元素转换为小写。它对每个元素调用 str.lower。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment">#操作数组</span></span><br><span class="line"><span class="keyword">print</span> (np.char.lower([<span class="string">'RUNOOB'</span>,<span class="string">'GOOGLE'</span>]))</span><br><span class="line"> [<span class="string">'runoob'</span> <span class="string">'google'</span>]</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 操作字符串</span></span><br><span class="line"><span class="keyword">print</span> (np.char.lower(<span class="string">'RUNOOB'</span>))</span><br><span class="line">runoob</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-upper"><a href="#numpy-char-upper" class="headerlink" title="numpy.char.upper()"></a>numpy.char.upper()</h4><p>numpy.char.upper() 函数对数组的每个元素转换为大写。它对每个元素调用 str.upper。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment">#操作数组</span></span><br><span class="line"><span class="keyword">print</span> (np.char.upper([<span class="string">'runoob'</span>,<span class="string">'google'</span>]))</span><br><span class="line"> [<span class="string">'RUNOOB'</span> <span class="string">'GOOGLE'</span>]</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 操作字符串</span></span><br><span class="line"><span class="keyword">print</span> (np.char.upper(<span class="string">'runoob'</span>))</span><br><span class="line">RUNOOB</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-split"><a href="#numpy-char-split" class="headerlink" title="numpy.char.split()"></a>numpy.char.split()</h4><p>numpy.char.split() 通过指定分隔符对字符串进行分割，并返回数组。默认情况下，分隔符为空格。 </p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 分隔符默认为空格</span></span><br><span class="line"><span class="keyword">print</span> (np.char.split (<span class="string">'i like runoob?'</span>))</span><br><span class="line">[<span class="string">'i'</span>, <span class="string">'like'</span>, <span class="string">'runoob?'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分隔符为 .</span></span><br><span class="line"><span class="keyword">print</span> (np.char.split (<span class="string">'www.runoob.com'</span>, sep = <span class="string">'.'</span>))</span><br><span class="line">[<span class="string">'www'</span>, <span class="string">'runoob'</span>, <span class="string">'com'</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-splitlines"><a href="#numpy-char-splitlines" class="headerlink" title="numpy.char.splitlines()"></a>numpy.char.splitlines()</h4><p>numpy.char.splitlines() 函数以换行符作为分隔符来分割字符串，并返回数组。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 换行符 \n</span></span><br><span class="line"><span class="keyword">print</span> (np.char.splitlines(<span class="string">'i\nlike runoob?'</span>)) </span><br><span class="line">[<span class="string">'i'</span>, <span class="string">'like runoob?'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (np.char.splitlines(<span class="string">'i\rlike runoob?'</span>))</span><br><span class="line">[<span class="string">'i'</span>, <span class="string">'like runoob?'</span>]</span><br></pre></td></tr></table></figure>
<p>\n，\r，\r\n 都可用作换行符。</p>
<h4 id="numpy-char-strip"><a href="#numpy-char-strip" class="headerlink" title="numpy.char.strip()"></a>numpy.char.strip()</h4><p>numpy.char.strip() 函数用于移除开头或结尾处的特定字符。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 移除字符串头尾的 a 字符</span></span><br><span class="line"><span class="keyword">print</span> (np.char.strip(<span class="string">'ashok arunooba'</span>,<span class="string">'a'</span>))</span><br><span class="line"> shok arunoob</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除数组元素头尾的 a 字符</span></span><br><span class="line"><span class="keyword">print</span> (np.char.strip([<span class="string">'arunooba'</span>,<span class="string">'admin'</span>,<span class="string">'java'</span>],<span class="string">'a'</span>))</span><br><span class="line">[<span class="string">'runoob'</span> <span class="string">'dmin'</span> <span class="string">'jav'</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-join"><a href="#numpy-char-join" class="headerlink" title="numpy.char.join()"></a>numpy.char.join()</h4><p>numpy.char.join() 函数通过指定分隔符来连接数组中的元素或字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 操作字符串</span></span><br><span class="line"><span class="keyword">print</span> (np.char.join(<span class="string">':'</span>,<span class="string">'runoob'</span>))</span><br><span class="line"> r:u:n:o:o:b</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定多个分隔符操作数组元素</span></span><br><span class="line"><span class="keyword">print</span> (np.char.join([<span class="string">':'</span>,<span class="string">'-'</span>],[<span class="string">'runoob'</span>,<span class="string">'google'</span>]))</span><br><span class="line">[<span class="string">'r:u:n:o:o:b'</span> <span class="string">'g-o-o-g-l-e'</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-replace"><a href="#numpy-char-replace" class="headerlink" title="numpy.char.replace()"></a>numpy.char.replace()</h4><p>numpy.char.replace() 函数使用新字符串替换字符串中的所有子字符串。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">print</span> (np.char.replace (<span class="string">'i like runoob'</span>, <span class="string">'oo'</span>, <span class="string">'cc'</span>))</span><br><span class="line">i like runccb</span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-encode"><a href="#numpy-char-encode" class="headerlink" title="numpy.char.encode()"></a>numpy.char.encode()</h4><p>numpy.char.encode() 函数对数组中的每个元素调用 str.encode 函数。 默认编码是 utf-8，可以使用标准 Python 库中的编解码器。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.char.encode(<span class="string">'runoob'</span>, <span class="string">'cp500'</span>) </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="string">b'\x99\xa4\x95\x96\x96\x82'</span></span><br></pre></td></tr></table></figure>
<h4 id="numpy-char-decode"><a href="#numpy-char-decode" class="headerlink" title="numpy.char.decode()"></a>numpy.char.decode()</h4><p>numpy.char.decode() 函数对编码的元素进行 str.decode() 解码。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.char.encode(<span class="string">'runoob'</span>, <span class="string">'cp500'</span>) </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="string">b'\x99\xa4\x95\x96\x96\x82'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (np.char.decode(a,<span class="string">'cp500'</span>))</span><br><span class="line">runoob</span><br></pre></td></tr></table></figure>
<h2 id="（十五）NumPy-数学函数"><a href="#（十五）NumPy-数学函数" class="headerlink" title="（十五）NumPy 数学函数"></a>（十五）NumPy 数学函数</h2><p>NumPy 包含大量的各种数学运算的函数，包括三角函数，算术运算的函数，复数处理函数等。</p>
<h4 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h4><p>NumPy 提供了标准的三角函数：sin()、cos()、tan()。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">0</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">60</span>,<span class="number">90</span>])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'不同角度的正弦值：'</span>)</span><br><span class="line"><span class="comment"># 通过乘 pi/180 转化为弧度  </span></span><br><span class="line"><span class="keyword">print</span> (np.sin(a*np.pi/<span class="number">180</span>))</span><br><span class="line">不同角度的正弦值：</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.5</span>        <span class="number">0.70710678</span> <span class="number">0.8660254</span>  <span class="number">1.</span>        ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组中角度的余弦值：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.cos(a*np.pi/<span class="number">180</span>))</span><br><span class="line">数组中角度的余弦值：</span><br><span class="line">[<span class="number">1.00000000e+00</span> <span class="number">8.66025404e-01</span> <span class="number">7.07106781e-01</span> <span class="number">5.00000000e-01</span></span><br><span class="line"> <span class="number">6.12323400e-17</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组中角度的正切值：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.tan(a*np.pi/<span class="number">180</span>))</span><br><span class="line">数组中角度的正切值：</span><br><span class="line">[<span class="number">0.00000000e+00</span> <span class="number">5.77350269e-01</span> <span class="number">1.00000000e+00</span> <span class="number">1.73205081e+00</span></span><br><span class="line"> <span class="number">1.63312394e+16</span>]</span><br></pre></td></tr></table></figure>
<p>arcsin,arccos,和arctan函数返回给定角度的sin，cos和tan的反三角函数。这些函数的结果可以通过numpy.degrees()函数将弧度转换为角度</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">0</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">60</span>,<span class="number">90</span>])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'含有正弦值的数组：'</span>)</span><br><span class="line">sin = np.sin(a*np.pi/<span class="number">180</span>)  </span><br><span class="line"><span class="keyword">print</span> (sin)</span><br><span class="line">含有正弦值的数组：</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.5</span>        <span class="number">0.70710678</span> <span class="number">0.8660254</span>  <span class="number">1.</span>        ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'计算角度的反正弦，返回值以弧度为单位：'</span>)</span><br><span class="line">inv = np.arcsin(sin)  </span><br><span class="line"><span class="keyword">print</span> (inv)</span><br><span class="line">含有正弦值的数组：</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.5</span>        <span class="number">0.70710678</span> <span class="number">0.8660254</span>  <span class="number">1.</span>        ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'通过转化为角度制来检查结果：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.degrees(inv))</span><br><span class="line">通过转化为角度制来检查结果：</span><br><span class="line">[ <span class="number">0.</span> <span class="number">30.</span> <span class="number">45.</span> <span class="number">60.</span> <span class="number">90.</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'arccos 和 arctan 函数行为类似：'</span>)</span><br><span class="line">cos = np.cos(a*np.pi/<span class="number">180</span>)  </span><br><span class="line"><span class="keyword">print</span> (cos)</span><br><span class="line">arccos 和 arctan 函数行为类似：</span><br><span class="line">[<span class="number">1.00000000e+00</span> <span class="number">8.66025404e-01</span> <span class="number">7.07106781e-01</span> <span class="number">5.00000000e-01</span></span><br><span class="line"> <span class="number">6.12323400e-17</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'反余弦：'</span>)</span><br><span class="line">inv = np.arccos(cos)  </span><br><span class="line"><span class="keyword">print</span> (inv)</span><br><span class="line">反余弦：</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.52359878</span> <span class="number">0.78539816</span> <span class="number">1.04719755</span> <span class="number">1.57079633</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'角度制单位：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.degrees(inv))</span><br><span class="line">角度制单位：</span><br><span class="line">[ <span class="number">0.</span> <span class="number">30.</span> <span class="number">45.</span> <span class="number">60.</span> <span class="number">90.</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'tan 函数：'</span>)</span><br><span class="line">tan = np.tan(a*np.pi/<span class="number">180</span>)  </span><br><span class="line"><span class="keyword">print</span> (tan)</span><br><span class="line">tan 函数：</span><br><span class="line">[<span class="number">0.00000000e+00</span> <span class="number">5.77350269e-01</span> <span class="number">1.00000000e+00</span> <span class="number">1.73205081e+00</span></span><br><span class="line"> <span class="number">1.63312394e+16</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'反正切：'</span>)</span><br><span class="line">inv = np.arctan(tan)  </span><br><span class="line"><span class="keyword">print</span> (inv)</span><br><span class="line">反正切：</span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.52359878</span> <span class="number">0.78539816</span> <span class="number">1.04719755</span> <span class="number">1.57079633</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'角度制单位：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.degrees(inv))</span><br><span class="line">角度制单位：</span><br><span class="line">[ <span class="number">0.</span> <span class="number">30.</span> <span class="number">45.</span> <span class="number">60.</span> <span class="number">90.</span>]</span><br></pre></td></tr></table></figure>
<h4 id="舍入函数"><a href="#舍入函数" class="headerlink" title="舍入函数"></a>舍入函数</h4><p>numpy.around()函数返回指定数字的四舍五入值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.around(a,decimals)</span><br></pre></td></tr></table></figure>
<ul>
<li>a: 数组</li>
<li>decimals: 舍入的小数位数。 默认值为0。 如果为负，整数将四舍五入到<strong>小数点左侧</strong>的位置</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1.0</span>,<span class="number">5.55</span>,  <span class="number">123</span>,  <span class="number">0.567</span>,  <span class="number">25.532</span>])  </span><br><span class="line"><span class="keyword">print</span>  (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">原数组：</span><br><span class="line">[  <span class="number">1.</span>      <span class="number">5.55</span>  <span class="number">123.</span>      <span class="number">0.567</span>  <span class="number">25.532</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'舍入后：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.around(a))</span><br><span class="line">舍入后：</span><br><span class="line">[  <span class="number">1.</span>   <span class="number">6.</span> <span class="number">123.</span>   <span class="number">1.</span>  <span class="number">26.</span>]</span><br><span class="line"><span class="keyword">print</span> (np.around(a, decimals =  <span class="number">1</span>))</span><br><span class="line">[  <span class="number">1.</span>    <span class="number">5.6</span> <span class="number">123.</span>    <span class="number">0.6</span>  <span class="number">25.5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (np.around(a, decimals =  <span class="number">-1</span>))</span><br><span class="line">[  <span class="number">0.</span>  <span class="number">10.</span> <span class="number">120.</span>   <span class="number">0.</span>  <span class="number">30.</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-floor-（返整数）"><a href="#numpy-floor-（返整数）" class="headerlink" title="numpy.floor()（返整数）"></a>numpy.floor()（返整数）</h4><p>numpy.floor() 返回数字的下舍整数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">-1.7</span>,  <span class="number">1.5</span>,  <span class="number">-0.2</span>,  <span class="number">0.6</span>,  <span class="number">10</span>])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'提供的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">提供的数组：</span><br><span class="line">[<span class="number">-1.7</span>  <span class="number">1.5</span> <span class="number">-0.2</span>  <span class="number">0.6</span> <span class="number">10.</span> ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.floor(a))</span><br><span class="line">修改后的数组：</span><br><span class="line">[<span class="number">-2.</span>  <span class="number">1.</span> <span class="number">-1.</span>  <span class="number">0.</span> <span class="number">10.</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-ceil"><a href="#numpy-ceil" class="headerlink" title="numpy.ceil()"></a>numpy.ceil()</h4><p>numpy.ceil()返回数字的上入整数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">-1.7</span>,  <span class="number">1.5</span>,  <span class="number">-0.2</span>,  <span class="number">0.6</span>,  <span class="number">10</span>])  </span><br><span class="line"><span class="keyword">print</span>  (<span class="string">'提供的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">提供的数组：</span><br><span class="line">[<span class="number">-1.7</span>  <span class="number">1.5</span> <span class="number">-0.2</span>  <span class="number">0.6</span> <span class="number">10.</span> ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.ceil(a))</span><br><span class="line">修改后的数组：</span><br><span class="line">[<span class="number">-1.</span>  <span class="number">2.</span> <span class="number">-0.</span>  <span class="number">1.</span> <span class="number">10.</span>]</span><br></pre></td></tr></table></figure>
<h2 id="（十六）NumPy算术函数"><a href="#（十六）NumPy算术函数" class="headerlink" title="（十六）NumPy算术函数"></a>（十六）NumPy算术函数</h2><p>NumPy 算术函数包含简单的加减乘除: <strong>add()</strong>，<strong>subtract()</strong>，<strong>multiply()</strong> 和 <strong>divide()</strong>。</p>
<p>需要注意的是数组必须具有相同的形状或符合数组广播规则。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">9</span>, dtype = np.float_).reshape(<span class="number">3</span>,<span class="number">3</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">第一个数组：</span><br><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br><span class="line"> [<span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line">b = np.array([<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>])  </span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">第二个数组：</span><br><span class="line">[<span class="number">10</span> <span class="number">10</span> <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'两个数组相加：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.add(a,b))</span><br><span class="line">两个数组相加：</span><br><span class="line">[[<span class="number">10.</span> <span class="number">11.</span> <span class="number">12.</span>]</span><br><span class="line"> [<span class="number">13.</span> <span class="number">14.</span> <span class="number">15.</span>]</span><br><span class="line"> [<span class="number">16.</span> <span class="number">17.</span> <span class="number">18.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'两个数组相减：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.subtract(a,b))</span><br><span class="line">两个数组相减：</span><br><span class="line">[[<span class="number">-10.</span>  <span class="number">-9.</span>  <span class="number">-8.</span>]</span><br><span class="line"> [ <span class="number">-7.</span>  <span class="number">-6.</span>  <span class="number">-5.</span>]</span><br><span class="line"> [ <span class="number">-4.</span>  <span class="number">-3.</span>  <span class="number">-2.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'两个数组相乘：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.multiply(a,b))</span><br><span class="line">两个数组相乘：</span><br><span class="line">[[ <span class="number">0.</span> <span class="number">10.</span> <span class="number">20.</span>]</span><br><span class="line"> [<span class="number">30.</span> <span class="number">40.</span> <span class="number">50.</span>]</span><br><span class="line"> [<span class="number">60.</span> <span class="number">70.</span> <span class="number">80.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'两个数组相除：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.divide(a,b))</span><br><span class="line">两个数组相除：</span><br><span class="line">[[<span class="number">0.</span>  <span class="number">0.1</span> <span class="number">0.2</span>]</span><br><span class="line"> [<span class="number">0.3</span> <span class="number">0.4</span> <span class="number">0.5</span>]</span><br><span class="line"> [<span class="number">0.6</span> <span class="number">0.7</span> <span class="number">0.8</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-reciprocal"><a href="#numpy-reciprocal" class="headerlink" title="numpy.reciprocal()"></a>numpy.reciprocal()</h4><p>numpy.reciprocal() 函数返回参数逐元素的倒数。如 <strong>1/4</strong> 倒数为 <strong>4/1</strong>。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">0.25</span>,  <span class="number">1.33</span>,  <span class="number">1</span>,  <span class="number">100</span>])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[  <span class="number">0.25</span>   <span class="number">1.33</span>   <span class="number">1.</span>   <span class="number">100.</span>  ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 reciprocal 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.reciprocal(a))</span><br><span class="line">调用 reciprocal 函数：</span><br><span class="line">[<span class="number">4.</span>        <span class="number">0.7518797</span> <span class="number">1.</span>        <span class="number">0.01</span>     ]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-power-（求幂）"><a href="#numpy-power-（求幂）" class="headerlink" title="numpy.power()（求幂）"></a>numpy.power()（求幂）</h4><p>numpy.power() 函数将第一个输入数组中的元素作为底数，计算它与第二个输入数组中相应元素的幂。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">10</span>,<span class="number">100</span>,<span class="number">1000</span>])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是；'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是；</span><br><span class="line">[  <span class="number">10</span>  <span class="number">100</span> <span class="number">1000</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 power 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.power(a,<span class="number">2</span>))</span><br><span class="line">调用 power 函数：</span><br><span class="line">[    <span class="number">100</span>   <span class="number">10000</span> <span class="number">1000000</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])  </span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">第二个数组：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'再次调用 power 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.power(a,b))</span><br><span class="line">再次调用 power 函数：</span><br><span class="line">[        <span class="number">10</span>      <span class="number">10000</span> <span class="number">1000000000</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-mod"><a href="#numpy-mod" class="headerlink" title="numpy.mod()"></a>numpy.mod()</h4><p>numpy.mod() 计算输入数组中相应元素的<strong>相除后的余数</strong>。 函数 numpy.remainder() 也产生相同的结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]) </span><br><span class="line">b = np.array([<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">第一个数组：</span><br><span class="line">[<span class="number">10</span> <span class="number">20</span> <span class="number">30</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第二个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">第二个数组：</span><br><span class="line">[<span class="number">3</span> <span class="number">5</span> <span class="number">7</span>]</span><br><span class="line">       </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 mod() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.mod(a,b))</span><br><span class="line">调用 mod() 函数：</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 remainder() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.remainder(a,b))</span><br><span class="line">调用 remainder() 函数：</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<h2 id="（十七）NumPy-统计函数"><a href="#（十七）NumPy-统计函数" class="headerlink" title="（十七）NumPy 统计函数"></a>（十七）NumPy 统计函数</h2><h4 id="numpy-amin-和-numpy-amax-最值"><a href="#numpy-amin-和-numpy-amax-最值" class="headerlink" title="numpy.amin() 和 numpy.amax() 最值"></a>numpy.amin() 和 numpy.amax() 最值</h4><p>numpy.amin() 用于计算数组中的元素沿指定轴的最小值。</p>
<p>numpy.amax() 用于计算数组中的元素沿指定轴的最大值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">4</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">4</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 amin() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.amin(a,<span class="number">1</span>))</span><br><span class="line">调用 amin() 函数：</span><br><span class="line">[<span class="number">3</span> <span class="number">3</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'再次调用 amin() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.amin(a,<span class="number">0</span>))</span><br><span class="line">再次调用 amin() 函数：</span><br><span class="line">[<span class="number">2</span> <span class="number">4</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 amax() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.amax(a))</span><br><span class="line">调用 amax() 函数：</span><br><span class="line"><span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'再次调用 amax() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.amax(a, axis =  <span class="number">0</span>))</span><br><span class="line">再次调用 amax() 函数：</span><br><span class="line">[<span class="number">8</span> <span class="number">7</span> <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-ptp-（最值差）"><a href="#numpy-ptp-（最值差）" class="headerlink" title="numpy.ptp()（最值差）"></a>numpy.ptp()（最值差）</h4><p>numpy.ptp()函数计算数组中元素最大值与最小值的差（最大值 - 最小值）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">8</span> <span class="number">4</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">4</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 ptp() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.ptp(a))</span><br><span class="line">调用 ptp() 函数：</span><br><span class="line"><span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 调用 ptp() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.ptp(a, axis =  <span class="number">1</span>))</span><br><span class="line">沿轴 <span class="number">1</span> 调用 ptp() 函数：</span><br><span class="line">[<span class="number">4</span> <span class="number">5</span> <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 调用 ptp() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.ptp(a, axis =  <span class="number">0</span>))</span><br><span class="line">沿轴 <span class="number">0</span> 调用 ptp() 函数：</span><br><span class="line">[<span class="number">6</span> <span class="number">3</span> <span class="number">6</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-percentile-（百分数）"><a href="#numpy-percentile-（百分数）" class="headerlink" title="numpy.percentile()（百分数）"></a>numpy.percentile()（百分数）</h4><p>百分位数是统计中使用的度量，表示小于这个值的观察值的百分比。 函数numpy.percentile()接受以下参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.percentile(a, q, axis)</span><br></pre></td></tr></table></figure>
<ul>
<li>a: 输入数组</li>
<li>q: 要计算的百分位数，在 0 ~ 100 之间</li>
<li>axis: 沿着它计算百分位数的轴</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">10</span>, <span class="number">7</span>, <span class="number">4</span>], [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">10</span>  <span class="number">7</span>  <span class="number">4</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">2</span>  <span class="number">1</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 percentile() 函数：'</span>)</span><br><span class="line"><span class="comment"># 50% 的分位数，就是 a 里排序之后的中位数</span></span><br><span class="line"><span class="keyword">print</span> (np.percentile(a, <span class="number">50</span>))            <span class="comment"># （3+4 ）/2</span></span><br><span class="line"> 调用 percentile() 函数：</span><br><span class="line"><span class="number">3.5</span>                           </span><br><span class="line"></span><br><span class="line"><span class="comment"># axis 为 0，在纵列上求</span></span><br><span class="line"><span class="keyword">print</span> (np.percentile(a, <span class="number">50</span>, axis=<span class="number">0</span>))    <span class="comment">#(10+3)/2、(7+2)/2、(4+1)/2</span></span><br><span class="line"> [<span class="number">6.5</span> <span class="number">4.5</span> <span class="number">2.5</span>]</span><br><span class="line">    </span><br><span class="line"><span class="comment"># axis 为 1，在横行上求</span></span><br><span class="line"><span class="keyword">print</span> (np.percentile(a, <span class="number">50</span>, axis=<span class="number">1</span>))   <span class="comment">#(10+7+4)/2、（3+2+1)/2</span></span><br><span class="line"> [<span class="number">7.</span> <span class="number">2.</span>]</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 保持维度不变</span></span><br><span class="line"><span class="keyword">print</span> (np.percentile(a, <span class="number">50</span>, axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>))</span><br><span class="line">[[<span class="number">7.</span>]</span><br><span class="line"> [<span class="number">2.</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-median-（中位数）"><a href="#numpy-median-（中位数）" class="headerlink" title="numpy.median()（中位数）"></a>numpy.median()（中位数）</h4><p>numpy.median() 函数用于计算数组 a 中元素的中位数（中值）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">30</span>,<span class="number">65</span>,<span class="number">70</span>],[<span class="number">80</span>,<span class="number">95</span>,<span class="number">10</span>],[<span class="number">50</span>,<span class="number">90</span>,<span class="number">60</span>]])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">30</span> <span class="number">65</span> <span class="number">70</span>]</span><br><span class="line"> [<span class="number">80</span> <span class="number">95</span> <span class="number">10</span>]</span><br><span class="line"> [<span class="number">50</span> <span class="number">90</span> <span class="number">60</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 median() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.median(a))</span><br><span class="line">调用 median() 函数：</span><br><span class="line"><span class="number">65.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 调用 median() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.median(a, axis =  <span class="number">0</span>))</span><br><span class="line">沿轴 <span class="number">0</span> 调用 median() 函数：</span><br><span class="line">[<span class="number">50.</span> <span class="number">90.</span> <span class="number">60.</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 调用 median() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.median(a, axis =  <span class="number">1</span>))</span><br><span class="line">沿轴 <span class="number">1</span> 调用 median() 函数：</span><br><span class="line">[<span class="number">65.</span> <span class="number">80.</span> <span class="number">60.</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-mean-算术平均值"><a href="#numpy-mean-算术平均值" class="headerlink" title="numpy.mean()(算术平均值)"></a>numpy.mean()(算术平均值)</h4><p>numpy.mean() 函数返回数组中元素的算术平均值。 如果提供了轴，则沿其计算。</p>
<p>算术平均值是沿轴的元素的总和除以元素的数量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 mean() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.mean(a))</span><br><span class="line">调用 mean() 函数：</span><br><span class="line"><span class="number">3.6666666666666665</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 调用 mean() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.mean(a, axis =  <span class="number">0</span>))</span><br><span class="line">沿轴 <span class="number">0</span> 调用 mean() 函数：</span><br><span class="line">[<span class="number">2.66666667</span> <span class="number">3.66666667</span> <span class="number">4.66666667</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 调用 mean() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.mean(a, axis =  <span class="number">1</span>))</span><br><span class="line">沿轴 <span class="number">1</span> 调用 mean() 函数：</span><br><span class="line">[<span class="number">2.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-average-加权平均值"><a href="#numpy-average-加权平均值" class="headerlink" title="numpy.average()(加权平均值)"></a>numpy.average()(加权平均值)</h4><p>numpy.average() 函数根据在另一个数组中给出的各自的权重计算数组中元素的加权平均值。</p>
<p>该函数可以接受一个轴参数。 如果没有指定轴，则数组会被展开。</p>
<p> 加权平均值即将各数值乘以相应的权数，然后加总求和得到总体值，再除以总的单位数。</p>
<p>考虑数组[1,2,3,4]和相应的权重[4,3,2,1]，通过将相应元素的乘积相加，并将和除以权重的和，来计算加权平均值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">加权平均值 = (<span class="number">1</span>*<span class="number">4</span>+<span class="number">2</span>*<span class="number">3</span>+<span class="number">3</span>*<span class="number">2</span>+<span class="number">4</span>*<span class="number">1</span>)/(<span class="number">4</span>+<span class="number">3</span>+<span class="number">2</span>+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 average() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.average(a))</span><br><span class="line">调用 average() 函数：</span><br><span class="line"><span class="number">2.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不指定权重时相当于 mean 函数</span></span><br><span class="line">wts = np.array([<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'再次调用 average() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.average(a,weights = wts))</span><br><span class="line">再次调用 average() 函数：</span><br><span class="line"><span class="number">2.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果 returned 参数设为 true，则返回权重的和  </span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'权重的和：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.average([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,  <span class="number">4</span>],weights =  [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>], returned =  <span class="literal">True</span>))</span><br><span class="line">权重的和：</span><br><span class="line">(<span class="number">2.0</span>, <span class="number">10.0</span>)</span><br></pre></td></tr></table></figure>
<p>在多维数组中，可以指定用于计算的轴。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">3</span>,<span class="number">2</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组：'</span>)</span><br><span class="line">wt = np.array([<span class="number">3</span>,<span class="number">5</span>])  </span><br><span class="line"><span class="keyword">print</span> (np.average(a, axis =  <span class="number">1</span>, weights = wt))</span><br><span class="line">修改后的数组：</span><br><span class="line">[<span class="number">0.625</span> <span class="number">2.625</span> <span class="number">4.625</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'修改后的数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.average(a, axis =  <span class="number">1</span>, weights = wt, returned =  <span class="literal">True</span>))</span><br><span class="line">修改后的数组：</span><br><span class="line">(array([<span class="number">0.625</span>, <span class="number">2.625</span>, <span class="number">4.625</span>]), array([<span class="number">8.</span>, <span class="number">8.</span>, <span class="number">8.</span>]))</span><br></pre></td></tr></table></figure>
<h4 id="标准差std"><a href="#标准差std" class="headerlink" title="标准差std()"></a>标准差std()</h4><p>标准差是一组数据平均值分散程度的一种度量。</p>
<p>标准差是方差的算术平方根。</p>
<p>标准差公式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std = sqrt(mean((x - x.mean())**<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>如果数组是 [1，2，3，4]，则其平均值为 2.5。 因此，差的平方是 [2.25,0.25,0.25,2.25]，并且其平均值的平方根除以 4，即 sqrt(5/4) ，结果为 1.1180339887498949。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (np.std([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line"><span class="number">1.1180339887498949</span></span><br></pre></td></tr></table></figure>
<h4 id="方差"><a href="#方差" class="headerlink" title="方差"></a>方差</h4><p>统计中的方差（样本方差）是每个样本值与全体样本值的平均数之差的平方值的平均数，即 mean((x - x.mean())** 2)。 </p>
<p>换句话说，标准差是方差的平方根。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">print</span> (np.var([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line"><span class="number">1.25</span></span><br></pre></td></tr></table></figure>
<h2 id="（十八）NumPy-排序、条件刷选函数"><a href="#（十八）NumPy-排序、条件刷选函数" class="headerlink" title="（十八）NumPy 排序、条件刷选函数"></a>（十八）NumPy 排序、条件刷选函数</h2><p>NumPy 提供了多种排序的方法。 这些排序函数实现不同的排序算法，每个排序算法的特征在于执行速度，最坏情况性能，所需的工作空间和算法的稳定性。 下表显示了三种排序算法的比较。</p>
<table>
<thead>
<tr>
<th>种类</th>
<th>速度</th>
<th>最坏情况</th>
<th>工作空间</th>
<th>稳定性</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&#39;quicksort&#39;</code>（快速排序）</td>
<td>1</td>
<td><code>O(n^2)</code></td>
<td>0</td>
<td>否</td>
</tr>
<tr>
<td><code>&#39;mergesort&#39;</code>（归并排序）</td>
<td>2</td>
<td><code>O(n*log(n))</code></td>
<td>~n/2</td>
<td>是</td>
</tr>
<tr>
<td><code>&#39;heapsort&#39;</code>（堆排序）</td>
<td>3</td>
<td><code>O(n*log(n))</code></td>
<td>0</td>
<td>否</td>
</tr>
</tbody>
</table>
<h4 id="numpy-sort"><a href="#numpy-sort" class="headerlink" title="numpy.sort()"></a>numpy.sort()</h4><p>numpy.sort() 函数返回输入数组的排序副本。函数格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.sort(a, axis, kind, order)</span><br></pre></td></tr></table></figure>
<ul>
<li>a: 要排序的数组</li>
<li>axis: 沿着它排序数组的轴，如果没有数组会被展开，沿着最后的轴排序， axis=0 按列排序，axis=1 按行排序</li>
<li>kind: 默认为’quicksort’（快速排序）</li>
<li>order: 如果数组包含字段，则是要排序的字段</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>],[<span class="number">9</span>,<span class="number">1</span>]])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span>]</span><br><span class="line"> [<span class="number">9</span> <span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 sort() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.sort(a))</span><br><span class="line">调用 sort() 函数：</span><br><span class="line">[[<span class="number">3</span> <span class="number">7</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'按列排序：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.sort(a, axis =  <span class="number">0</span>))</span><br><span class="line">按列排序：</span><br><span class="line">[[<span class="number">3</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">9</span> <span class="number">7</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 sort 函数中排序字段 </span></span><br><span class="line">dt = np.dtype([(<span class="string">'name'</span>,  <span class="string">'S10'</span>),(<span class="string">'age'</span>,  int)]) </span><br><span class="line">a = np.array([(<span class="string">"raju"</span>,<span class="number">21</span>),(<span class="string">"anil"</span>,<span class="number">25</span>),(<span class="string">"ravi"</span>,  <span class="number">17</span>),  (<span class="string">"amar"</span>,<span class="number">27</span>)], dtype = dt)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[(<span class="string">b'raju'</span>, <span class="number">21</span>) (<span class="string">b'anil'</span>, <span class="number">25</span>) (<span class="string">b'ravi'</span>, <span class="number">17</span>) (<span class="string">b'amar'</span>, <span class="number">27</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'按 name 排序：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.sort(a, order =  <span class="string">'name'</span>))</span><br><span class="line">按 name 排序：</span><br><span class="line">[(<span class="string">b'amar'</span>, <span class="number">27</span>) (<span class="string">b'anil'</span>, <span class="number">25</span>) (<span class="string">b'raju'</span>, <span class="number">21</span>) (<span class="string">b'ravi'</span>, <span class="number">17</span>)]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-argsort"><a href="#numpy-argsort" class="headerlink" title="numpy.argsort()"></a>numpy.argsort()</h4><p>numpy.argsort() 函数返回的是数组值从小到大的索引值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.array([<span class="number">3</span>,  <span class="number">1</span>,  <span class="number">2</span>])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line">我们的数组是：</span><br><span class="line">[<span class="number">3</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'对 x 调用 argsort() 函数：'</span>)</span><br><span class="line">y = np.argsort(x)  </span><br><span class="line"><span class="keyword">print</span> (y)</span><br><span class="line">对 x 调用 argsort() 函数：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'以排序后的顺序重构原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x[y])</span><br><span class="line">以排序后的顺序重构原数组：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'使用循环重构原数组：'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> y:  </span><br><span class="line">    <span class="keyword">print</span> (x[i], end=<span class="string">" "</span>)</span><br><span class="line">    <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h4 id="numpy-lexsort"><a href="#numpy-lexsort" class="headerlink" title="numpy.lexsort()"></a>numpy.lexsort()</h4><p>numpy.lexsort() 用于对多个序列进行排序。把它想象成对电子表格进行排序，每一列代表一个序列，排序时优先照顾靠后的列。</p>
<p>这里举一个应用场景：小升初考试，重点班录取学生按照总成绩录取。在总成绩相同时，数学成绩高的优先录取，在总成绩和数学成绩都相同时，按照英语成绩录取…… 这里，总成绩排在电子表格的最后一列，数学成绩在倒数第二列，英语成绩在倒数第三列。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">nm =  (<span class="string">'raju'</span>,<span class="string">'anil'</span>,<span class="string">'ravi'</span>,<span class="string">'amar'</span>) </span><br><span class="line">dv =  (<span class="string">'f.y.'</span>,  <span class="string">'s.y.'</span>,  <span class="string">'s.y.'</span>,  <span class="string">'f.y.'</span>) </span><br><span class="line">ind = np.lexsort((dv,nm))  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 lexsort() 函数：'</span>) </span><br><span class="line"><span class="keyword">print</span> (ind) </span><br><span class="line">调用 lexsort() 函数：</span><br><span class="line">[<span class="number">3</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'使用这个索引来获取排序后的数据：'</span>) </span><br><span class="line"><span class="keyword">print</span> ([nm[i]  +  <span class="string">", "</span>  + dv[i]  <span class="keyword">for</span> i <span class="keyword">in</span> ind])</span><br><span class="line">使用这个索引来获取排序后的数据：</span><br><span class="line">[<span class="string">'amar, f.y.'</span>, <span class="string">'anil, s.y.'</span>, <span class="string">'raju, f.y.'</span>, <span class="string">'ravi, s.y.'</span>]</span><br></pre></td></tr></table></figure>
<p>上面传入 np.lexsort 的是一个tuple，排序时首先排 nm，顺序为：amar、anil、raju、ravi 。综上排序结果为 [3 1 0 2]。</p>
<h4 id="msort、sort-complex、partition、argpartition"><a href="#msort、sort-complex、partition、argpartition" class="headerlink" title="msort、sort_complex、partition、argpartition"></a>msort、sort_complex、partition、argpartition</h4><table>
<thead>
<tr>
<th>msort(a)</th>
<th>数组按第一个轴排序，返回排序后的数组副本。np.msort(a) 相等于 np.sort(a, axis=0)。</th>
</tr>
</thead>
<tbody>
<tr>
<td>sort_complex(a)</td>
<td>对复数按照先实部后虚部的顺序进行排序。</td>
</tr>
<tr>
<td>partition(a, kth[, axis, kind, order])</td>
<td>指定一个数，对数组进行分区</td>
</tr>
<tr>
<td>argpartition(a, kth[, axis, kind, order])</td>
<td>可以通过关键字 kind 指定算法沿着指定轴对数组进行分区</td>
</tr>
</tbody>
</table>
<p>sort_complex复数排序：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.sort_complex([<span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br><span class="line">array([ <span class="number">1.</span>+<span class="number">0.j</span>,  <span class="number">2.</span>+<span class="number">0.j</span>,  <span class="number">3.</span>+<span class="number">0.j</span>,  <span class="number">5.</span>+<span class="number">0.j</span>,  <span class="number">6.</span>+<span class="number">0.j</span>])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.sort_complex([<span class="number">1</span> + <span class="number">2j</span>, <span class="number">2</span> - <span class="number">1j</span>, <span class="number">3</span> - <span class="number">2j</span>, <span class="number">3</span> - <span class="number">3j</span>, <span class="number">3</span> + <span class="number">5j</span>])</span><br><span class="line">array([ <span class="number">1.</span>+<span class="number">2.j</span>,  <span class="number">2.</span><span class="number">-1.j</span>,  <span class="number">3.</span><span class="number">-3.j</span>,  <span class="number">3.</span><span class="number">-2.j</span>,  <span class="number">3.</span>+<span class="number">5.j</span>])</span><br></pre></td></tr></table></figure>
<p>partition() 分区排序：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.partition(a, <span class="number">3</span>) </span><br><span class="line"><span class="comment"># 将数组 a 中所有元素（包括重复元素）从小到大排列，3 表示的是排序数组索引为 3 的数字，比该数字小的排在该数字前面，比该数字大的排在该数字的后面</span></span><br><span class="line">array([<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.partition(a, (<span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment"># 小于 1 的在前面，大于 3 的在后面，1和3之间的在中间</span></span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<p>argpartition排序</p>
<p>找到数组的第 3 小（index=2）的值和第 2 大（index=-2）的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.array([<span class="number">46</span>, <span class="number">57</span>, <span class="number">23</span>, <span class="number">39</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">120</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[np.argpartition(arr, <span class="number">2</span>)[<span class="number">2</span>]]</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[np.argpartition(arr, <span class="number">-2</span>)[<span class="number">-2</span>]]</span><br><span class="line"><span class="number">57</span></span><br></pre></td></tr></table></figure>
<p>同时找到第 3 和第 4 小的值。注意这里，用 [2,3] 同时将第 3 和第 4 小的排序好，然后可以分别通过下标 [2] 和 [3] 取得。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[np.argpartition(arr, [<span class="number">2</span>,<span class="number">3</span>])[<span class="number">2</span>]]</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[np.argpartition(arr, [<span class="number">2</span>,<span class="number">3</span>])[<span class="number">3</span>]]</span><br><span class="line"><span class="number">23</span></span><br></pre></td></tr></table></figure>
<h4 id="numpy-argmax-和-numpy-argmin"><a href="#numpy-argmax-和-numpy-argmin" class="headerlink" title="numpy.argmax() 和 numpy.argmin()"></a>numpy.argmax() 和 numpy.argmin()</h4><p>numpy.argmax() 和 numpy.argmin()函数分别沿给定轴返回最大和最小元素的索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([[<span class="number">30</span>,<span class="number">40</span>,<span class="number">70</span>],[<span class="number">80</span>,<span class="number">20</span>,<span class="number">10</span>],[<span class="number">50</span>,<span class="number">90</span>,<span class="number">60</span>]])  </span><br><span class="line"><span class="keyword">print</span>  (<span class="string">'我们的数组是：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a) </span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">30</span> <span class="number">40</span> <span class="number">70</span>]</span><br><span class="line"> [<span class="number">80</span> <span class="number">20</span> <span class="number">10</span>]</span><br><span class="line"> [<span class="number">50</span> <span class="number">90</span> <span class="number">60</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 argmax() 函数：'</span>) </span><br><span class="line"><span class="keyword">print</span> (np.argmax(a)) </span><br><span class="line">调用 argmax() 函数：</span><br><span class="line"><span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'展开数组：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a.flatten()) </span><br><span class="line">展开数组：</span><br><span class="line">[<span class="number">30</span> <span class="number">40</span> <span class="number">70</span> <span class="number">80</span> <span class="number">20</span> <span class="number">10</span> <span class="number">50</span> <span class="number">90</span> <span class="number">60</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 的最大值索引：'</span>) </span><br><span class="line">maxindex = np.argmax(a, axis =  <span class="number">0</span>)  </span><br><span class="line"><span class="keyword">print</span> (maxindex) </span><br><span class="line">沿轴 <span class="number">0</span> 的最大值索引：</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 的最大值索引：'</span>) </span><br><span class="line">maxindex = np.argmax(a, axis =  <span class="number">1</span>)  </span><br><span class="line"><span class="keyword">print</span> (maxindex) </span><br><span class="line">沿轴 <span class="number">1</span> 的最大值索引：</span><br><span class="line">[<span class="number">2</span> <span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 argmin() 函数：'</span>) </span><br><span class="line">minindex = np.argmin(a)  </span><br><span class="line"><span class="keyword">print</span> (minindex) </span><br><span class="line">调用 argmin() 函数：</span><br><span class="line"><span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'展开数组中的最小值：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a.flatten()[minindex]) </span><br><span class="line">展开数组中的最小值：</span><br><span class="line"><span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 的最小值索引：'</span>) </span><br><span class="line">minindex = np.argmin(a, axis =  <span class="number">0</span>)  </span><br><span class="line"><span class="keyword">print</span> (minindex) </span><br><span class="line">沿轴 <span class="number">0</span> 的最小值索引：</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 的最小值索引：'</span>) </span><br><span class="line">minindex = np.argmin(a, axis =  <span class="number">1</span>)  </span><br><span class="line"><span class="keyword">print</span> (minindex)</span><br><span class="line">沿轴 <span class="number">1</span> 的最小值索引：</span><br><span class="line">[<span class="number">0</span> <span class="number">2</span> <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-nonzero"><a href="#numpy-nonzero" class="headerlink" title="numpy.nonzero()"></a>numpy.nonzero()</h4><p>numpy.nonzero() 函数返回输入数组中<strong>非零元素的索引</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">30</span>,<span class="number">40</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">20</span>,<span class="number">10</span>],[<span class="number">50</span>,<span class="number">0</span>,<span class="number">60</span>]])  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">30</span> <span class="number">40</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span> <span class="number">20</span> <span class="number">10</span>]</span><br><span class="line"> [<span class="number">50</span>  <span class="number">0</span> <span class="number">60</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 nonzero() 函数：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.nonzero (a))</span><br><span class="line">调用 nonzero() 函数：</span><br><span class="line">(array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>]), array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>]))</span><br></pre></td></tr></table></figure>
<h4 id="numpy-where"><a href="#numpy-where" class="headerlink" title="numpy.where()"></a>numpy.where()</h4><p>numpy.where() 函数返回输入数组中满足给定条件的<strong>元素的索引</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.arange(<span class="number">9.</span>).reshape(<span class="number">3</span>,  <span class="number">3</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br><span class="line"> [<span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> ( <span class="string">'大于 3 的元素的索引：'</span>)</span><br><span class="line">y = np.where(x &gt;  <span class="number">3</span>)  </span><br><span class="line"><span class="keyword">print</span> (y)</span><br><span class="line">大于 <span class="number">3</span> 的元素的索引：</span><br><span class="line">(array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>]), array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'使用这些索引来获取满足条件的元素：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x[y]</span><br><span class="line">使用这些索引来获取满足条件的元素：</span><br><span class="line">[<span class="number">4.</span> <span class="number">5.</span> <span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]</span><br></pre></td></tr></table></figure>
<h4 id="numpy-extract"><a href="#numpy-extract" class="headerlink" title="numpy.extract()"></a>numpy.extract()</h4><p>numpy.extract() 函数根据某个条件从数组中抽取元素，返回满条件的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.arange(<span class="number">9.</span>).reshape(<span class="number">3</span>,  <span class="number">3</span>)  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们的数组是：'</span>)</span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line">我们的数组是：</span><br><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br><span class="line"> [<span class="number">6.</span> <span class="number">7.</span> <span class="number">8.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义条件, 选择偶数元素</span></span><br><span class="line">condition = np.mod(x,<span class="number">2</span>)  ==  <span class="number">0</span>  </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'按元素的条件值：'</span>)</span><br><span class="line"><span class="keyword">print</span> (condition)</span><br><span class="line">按元素的条件值：</span><br><span class="line">[[ <span class="literal">True</span> <span class="literal">False</span>  <span class="literal">True</span>]</span><br><span class="line"> [<span class="literal">False</span>  <span class="literal">True</span> <span class="literal">False</span>]</span><br><span class="line"> [ <span class="literal">True</span> <span class="literal">False</span>  <span class="literal">True</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'使用条件提取元素：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.extract(condition, x))</span><br><span class="line">使用条件提取元素：</span><br><span class="line">[<span class="number">0.</span> <span class="number">2.</span> <span class="number">4.</span> <span class="number">6.</span> <span class="number">8.</span>]</span><br></pre></td></tr></table></figure>
<h2 id="（十九）NumPy-字节交换"><a href="#（十九）NumPy-字节交换" class="headerlink" title="（十九）NumPy 字节交换"></a>（十九）NumPy 字节交换</h2><p>略<a href="https://www.runoob.com/numpy/numpy-byte-swapping.html" target="_blank" rel="noopener">https://www.runoob.com/numpy/numpy-byte-swapping.html</a></p>
<h2 id="（二十）NumPy-副本和视图"><a href="#（二十）NumPy-副本和视图" class="headerlink" title="（二十）NumPy 副本和视图"></a>（二十）NumPy 副本和视图</h2><p>略<a href="https://www.runoob.com/numpy/numpy-copies-and-views.html" target="_blank" rel="noopener">https://www.runoob.com/numpy/numpy-copies-and-views.html</a></p>
<h2 id="（二十一）NumPy-矩阵库"><a href="#（二十一）NumPy-矩阵库" class="headerlink" title="（二十一）NumPy 矩阵库"></a>（二十一）NumPy 矩阵库</h2><p>​            NumPy 中包含了一个矩阵库 numpy.matlib，该模块中的函数返回的是一个矩阵，而不是 ndarray 对象。</p>
<p>一个 <img src="https://static.runoob.com/images/mix/mxn.svg" alt="img">的矩阵是一个由<img src="https://static.runoob.com/images/mix/m-numpy.svg" alt="img">行（row）<img src="https://static.runoob.com/images/mix/n-numpy.svg" alt="img">列（column）元素排列成的矩形阵列。</p>
<p>​            矩阵里的元素可以是数字、符号或数学式。以下是一个由 6 个数字元素构成的 2 行 3 列的矩阵：</p>
<p><img src="https://static.runoob.com/images/mix/61f786996bcfb75972dd77712c90122bc8765269.svg" alt="img"></p>
<h3 id="matlib-empty"><a href="#matlib-empty" class="headerlink" title="matlib.empty()"></a>matlib.empty()</h3><p>matlib.empty() 函数返回一个新的矩阵，语法格式为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.matlib.empty(shape, dtype, order)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>shape</strong>: 定义新矩阵形状的整数或整数元组</li>
<li><strong>Dtype</strong>: 可选，数据类型</li>
<li><strong>order</strong>: C（行序优先） 或者 F（列序优先）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (np.matlib.empty((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line"><span class="comment"># 填充为随机数据</span></span><br><span class="line">[[<span class="number">6.94814318e-310</span> <span class="number">6.94814318e-310</span>]</span><br><span class="line"> [<span class="number">0.00000000e+000</span> <span class="number">0.00000000e+000</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-matlib-zeros-（0矩阵）"><a href="#numpy-matlib-zeros-（0矩阵）" class="headerlink" title="numpy.matlib.zeros() （0矩阵）"></a>numpy.matlib.zeros() （0矩阵）</h3><p>numpy.matlib.zeros() 函数创建一个以 0 填充的矩阵。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (np.matlib.zeros((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-matlib-ones-（1矩阵）"><a href="#numpy-matlib-ones-（1矩阵）" class="headerlink" title="numpy.matlib.ones()（1矩阵）"></a>numpy.matlib.ones()（1矩阵）</h3><p>numpy.matlib.ones()函数创建一个以 1 填充的矩阵。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (np.matlib.ones((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line">[[<span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">1.</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-matlib-eye-（对角矩阵）"><a href="#numpy-matlib-eye-（对角矩阵）" class="headerlink" title="numpy.matlib.eye()（对角矩阵）"></a>numpy.matlib.eye()（对角矩阵）</h3><p>numpy.matlib.eye() 函数返回一个矩阵，<strong>对角线元素为 1</strong>，其他位置为零。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.matlib.eye(n, M,k, dtype)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>n</strong>: 返回矩阵的行数</li>
<li><strong>M</strong>: 返回矩阵的列数，默认为 n</li>
<li><strong>k</strong>: 对角线的索引</li>
<li><strong>dtype</strong>: 数据类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (np.matlib.eye(n =  <span class="number">3</span>, M =  <span class="number">4</span>, k =  <span class="number">0</span>, dtype =  float))</span><br><span class="line">[[<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-matlib-identity-主对角单位矩阵"><a href="#numpy-matlib-identity-主对角单位矩阵" class="headerlink" title="numpy.matlib.identity()(主对角单位矩阵)"></a>numpy.matlib.identity()(主对角单位矩阵)</h3><p>numpy.matlib.identity() 函数返回给定大小的<strong>单位矩阵</strong>。</p>
<p>单位矩阵是个方阵，从左上角到右下角的对角线（称为主对角线）上的元素均为 1，除此以外全都为 0。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/10/aab94f3654099a22bbf9aedfe99324e2.png" alt="https://www.runoob.com/wp-content/uploads/2018/10/aab94f3654099a22bbf9aedfe99324e2.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 大小为 5，类型位浮点型</span></span><br><span class="line"><span class="keyword">print</span> (np.matlib.identity(<span class="number">5</span>, dtype =  float))</span><br><span class="line">[[ <span class="number">1.</span>  <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>] </span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">1.</span>  <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>] </span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">1.</span>  <span class="number">0.</span>  <span class="number">0.</span>] </span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">1.</span>  <span class="number">0.</span>] </span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">1.</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-matlib-rand"><a href="#numpy-matlib-rand" class="headerlink" title="numpy.matlib.rand()"></a>numpy.matlib.rand()</h3><p>numpy.matlib.rand() 函数创建一个给定大小的矩阵，数据是随机填充的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">print</span> (np.matlib.rand(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">[[<span class="number">0.23966718</span> <span class="number">0.16147628</span> <span class="number">0.14162</span>   ]</span><br><span class="line"> [<span class="number">0.28379085</span> <span class="number">0.59934741</span> <span class="number">0.62985825</span>]</span><br><span class="line"> [<span class="number">0.99527238</span> <span class="number">0.11137883</span> <span class="number">0.41105367</span>]]</span><br></pre></td></tr></table></figure>
<p>矩阵总是二维的，而 ndarray  是一个 n 维数组。 两个对象都是可互换的。</p>
<h3 id="numpy-matrix"><a href="#numpy-matrix" class="headerlink" title="numpy.matrix()"></a>numpy.matrix()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"> </span><br><span class="line">i = np.matrix(<span class="string">'1,2;3,4'</span>)  </span><br><span class="line"><span class="keyword">print</span> (i)</span><br><span class="line">[[<span class="number">1</span>  <span class="number">2</span>] </span><br><span class="line"> [<span class="number">3</span>  <span class="number">4</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-asmatrix"><a href="#numpy-asmatrix" class="headerlink" title="numpy.asmatrix()"></a>numpy.asmatrix()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"> </span><br><span class="line">k = np.asmatrix (j)  </span><br><span class="line"><span class="keyword">print</span> (k)</span><br><span class="line">[[<span class="number">1</span>  <span class="number">2</span>] </span><br><span class="line"> [<span class="number">3</span>  <span class="number">4</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="二十二）NumPy-线性代数"><a href="#二十二）NumPy-线性代数" class="headerlink" title="(二十二）NumPy 线性代数"></a>(二十二）NumPy 线性代数</h2><p>NumPy  提供了线性代数函数库 <strong>linalg</strong>，该库包含了线性代数所需的所有功能，可以看看下面的说明：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dot</code></td>
<td>两个数组的点积，即元素对应相乘。</td>
</tr>
<tr>
<td><code>vdot</code></td>
<td>两个向量的点积</td>
</tr>
<tr>
<td><code>inner</code></td>
<td>两个数组的内积</td>
</tr>
<tr>
<td><code>matmul</code></td>
<td>两个数组的矩阵积</td>
</tr>
<tr>
<td><code>determinant</code></td>
<td>数组的行列式</td>
</tr>
<tr>
<td><code>solve</code></td>
<td>求解线性矩阵方程</td>
</tr>
<tr>
<td><code>inv</code></td>
<td>计算矩阵的乘法逆矩阵</td>
</tr>
</tbody>
</table>
<h3 id="numpy-dot"><a href="#numpy-dot" class="headerlink" title="numpy.dot()"></a>numpy.dot()</h3><p>numpy.dot()   对于两个一维的数组，计算的是这两个数组对应下标元素的乘积和(数学上称之为<strong>内积</strong>)；对于二维数组，计算的是两个数组的<strong>矩阵乘积</strong>；对于多维数组，它的通用计算公式如下，即结果数组中的每个元素都是：数组a的最后一维上的所有元素与数组b的倒数第二位上的所有元素的乘积和： <code>dot(a, b)[i,j,k,m] = sum(a[i,j,:] * b[k,:,m])</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.dot(a, b, out=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>a</strong> : ndarray 数组 </li>
<li><strong>b</strong> : ndarray 数组 </li>
<li><strong>out</strong> : ndarray, 可选，用来保存dot()的计算结果</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]])</span><br><span class="line">print(np.dot(a,b))</span><br><span class="line">[[<span class="number">37</span>  <span class="number">40</span>] </span><br><span class="line"> [<span class="number">85</span>  <span class="number">92</span>]]</span><br></pre></td></tr></table></figure>
<p>计算式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span>*<span class="number">11</span>+<span class="number">2</span>*<span class="number">13</span>, <span class="number">1</span>*<span class="number">12</span>+<span class="number">2</span>*<span class="number">14</span>],[<span class="number">3</span>*<span class="number">11</span>+<span class="number">4</span>*<span class="number">13</span>, <span class="number">3</span>*<span class="number">12</span>+<span class="number">4</span>*<span class="number">14</span>]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-vdot"><a href="#numpy-vdot" class="headerlink" title="numpy.vdot()"></a>numpy.vdot()</h3><p>numpy.vdot() 函数是<strong>两个向量的点积</strong>。 如果第一个参数是复数，那么它的共轭复数会用于计算。 如果参数是多维数组，它会被展开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]]) </span><br><span class="line"> </span><br><span class="line"><span class="comment"># vdot 将数组展开计算内积</span></span><br><span class="line"><span class="keyword">print</span> (np.vdot(a,b))</span><br><span class="line"><span class="number">130</span></span><br></pre></td></tr></table></figure>
<p>计算方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1*11 + 2*12 + 3*13 + 4*14 = 130</span><br></pre></td></tr></table></figure>
<h3 id="numpy-inner"><a href="#numpy-inner" class="headerlink" title="numpy.inner()"></a>numpy.inner()</h3><p>numpy.inner() 函数返回一维数组的向量<strong>内积</strong>。对于更高的维度，它返回最后一个轴上的和的乘积。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (np.inner(np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]),np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>])))</span><br><span class="line"><span class="comment"># 等价于 1*0+2*1+3*0</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>实例：多维数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 a：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">数组 a：</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">b = np.array([[<span class="number">11</span>, <span class="number">12</span>], [<span class="number">13</span>, <span class="number">14</span>]]) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 b：'</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">数组 b：</span><br><span class="line">[[<span class="number">11</span> <span class="number">12</span>]</span><br><span class="line"> [<span class="number">13</span> <span class="number">14</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'内积：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.inner(a,b))</span><br><span class="line">内积：</span><br><span class="line">[[<span class="number">35</span> <span class="number">41</span>]</span><br><span class="line"> [<span class="number">81</span> <span class="number">95</span>]]</span><br></pre></td></tr></table></figure>
<p>内积计算式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>*<span class="number">11</span>+<span class="number">2</span>*<span class="number">12</span>, <span class="number">1</span>*<span class="number">13</span>+<span class="number">2</span>*<span class="number">14</span> </span><br><span class="line"><span class="number">3</span>*<span class="number">11</span>+<span class="number">4</span>*<span class="number">12</span>, <span class="number">3</span>*<span class="number">13</span>+<span class="number">4</span>*<span class="number">14</span></span><br></pre></td></tr></table></figure>
<h3 id="numpy-matmul"><a href="#numpy-matmul" class="headerlink" title="numpy.matmul"></a>numpy.matmul</h3><p>​         numpy.matmul 函数返回<strong>两个数组的矩阵乘积</strong>。 虽然它返回二维数组的正常乘积，但如果任一参数的维数大于2，则将其视为存在于最后两个索引的矩阵的栈，并进行相应广播。</p>
<p>​         另一方面，如果任一参数是一维数组，则通过在其维度上附加 1 来将其提升为矩阵，并在乘法之后被去除。</p>
<p>对于二维数组，它就是矩阵乘法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = [[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>]] </span><br><span class="line">b = [[<span class="number">4</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">2</span>]] </span><br><span class="line"><span class="keyword">print</span> (np.matmul(a,b))</span><br><span class="line">[[<span class="number">4</span>  <span class="number">1</span>] </span><br><span class="line"> [<span class="number">2</span>  <span class="number">2</span>]]</span><br></pre></td></tr></table></figure>
<p>实例：二维和一维运算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = [[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>]] </span><br><span class="line">b = [<span class="number">1</span>,<span class="number">2</span>] </span><br><span class="line"><span class="keyword">print</span> (np.matmul(a,b))</span><br><span class="line">[<span class="number">1</span>  <span class="number">2</span>] </span><br><span class="line"><span class="keyword">print</span> (np.matmul(b,a))</span><br><span class="line">[<span class="number">1</span>  <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<p>维度大于二的数组 ：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>) </span><br><span class="line">b = np.arange(<span class="number">4</span>).reshape(<span class="number">2</span>,<span class="number">2</span>) </span><br><span class="line"><span class="keyword">print</span> (np.matmul(a,b))</span><br><span class="line">[[[ <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line">  [ <span class="number">6</span> <span class="number">11</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">10</span> <span class="number">19</span>]</span><br><span class="line">  [<span class="number">14</span> <span class="number">27</span>]]]</span><br></pre></td></tr></table></figure>
<h3 id="numpy-linalg-det"><a href="#numpy-linalg-det" class="headerlink" title="numpy.linalg.det()"></a>numpy.linalg.det()</h3><p>numpy.linalg.det() 函数计算输入矩阵的<strong>行列式</strong>。</p>
<p>行列式在线性代数中是非常有用的值。 它从方阵的对角元素计算。 对于 2×2 矩阵，它是左上和右下元素的乘积与其他两个的乘积的差。换句话说，对于矩阵[[a，b]，[c，d]]，行列式计算为 ad-bc。 较大的方阵被认为是 2×2 矩阵的组合。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (np.linalg.det(a))</span><br><span class="line"><span class="number">-2.0</span></span><br></pre></td></tr></table></figure>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">b = np.array([[<span class="number">6</span>,<span class="number">1</span>,<span class="number">1</span>], [<span class="number">4</span>, <span class="number">-2</span>, <span class="number">5</span>], [<span class="number">2</span>,<span class="number">8</span>,<span class="number">7</span>]]) </span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">[[ <span class="number">6</span>  <span class="number">1</span>  <span class="number">1</span>]</span><br><span class="line"> [ <span class="number">4</span> <span class="number">-2</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">8</span>  <span class="number">7</span>]]</span><br><span class="line"><span class="keyword">print</span> (np.linalg.det(b))</span><br><span class="line"><span class="number">-306.0</span></span><br><span class="line"><span class="keyword">print</span> (<span class="number">6</span>*(<span class="number">-2</span>*<span class="number">7</span> - <span class="number">5</span>*<span class="number">8</span>) - <span class="number">1</span>*(<span class="number">4</span>*<span class="number">7</span> - <span class="number">5</span>*<span class="number">2</span>) + <span class="number">1</span>*(<span class="number">4</span>*<span class="number">8</span> - <span class="number">-2</span>*<span class="number">2</span>))</span><br><span class="line"><span class="number">-306</span></span><br></pre></td></tr></table></figure>
<h3 id="numpy-linalg-solve"><a href="#numpy-linalg-solve" class="headerlink" title="numpy.linalg.solve()"></a>numpy.linalg.solve()</h3><p>numpy.linalg.solve() 函数给出了<strong>矩阵形式</strong>的<strong>线性方程的解</strong>。</p>
<p>考虑以下线性方程：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x + y + z = <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>y + <span class="number">5</span>z = <span class="number">-4</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>x + <span class="number">5</span>y - z = <span class="number">27</span></span><br></pre></td></tr></table></figure>
<p>可以使用矩阵表示为：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/10/118142-7ab3daa7f65551e6.jpg" alt="img"></p>
<p>如果矩阵成为A、X和B，方程变为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AX = B</span><br><span class="line"></span><br><span class="line">或</span><br><span class="line"></span><br><span class="line">X = A^(-1)B</span><br></pre></td></tr></table></figure>
<h3 id="numpy-linalg-inv-（逆矩阵）"><a href="#numpy-linalg-inv-（逆矩阵）" class="headerlink" title="numpy.linalg.inv()（逆矩阵）"></a>numpy.linalg.inv()（逆矩阵）</h3><p>numpy.linalg.inv() 函数计算矩阵的乘法<strong>逆矩阵</strong>。</p>
<p><strong>逆矩阵（inverse matrix）</strong>：设A是数域上的一个n阶矩阵，若在相同数域上存在另一个n阶矩阵B，使得： AB=BA=E ，则我们称B是A的逆矩阵，而A则被称为可逆矩阵。注：E为单位矩阵。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line">y = np.linalg.inv(x) </span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span>]]</span><br><span class="line"><span class="keyword">print</span> (y)</span><br><span class="line">[[<span class="number">-2.</span>   <span class="number">1.</span> ]</span><br><span class="line"> [ <span class="number">1.5</span> <span class="number">-0.5</span>]]</span><br><span class="line"><span class="keyword">print</span> (np.dot(x,y))</span><br><span class="line">[[<span class="number">1.0000000e+00</span> <span class="number">0.0000000e+00</span>]</span><br><span class="line"> [<span class="number">8.8817842e-16</span> <span class="number">1.0000000e+00</span>]]</span><br></pre></td></tr></table></figure>
<p>实例：创建一个A矩阵的逆矩阵</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">-1</span>]]) </span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'数组 a：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line">数组 a：</span><br><span class="line">[[ <span class="number">1</span>  <span class="number">1</span>  <span class="number">1</span>]</span><br><span class="line"> [ <span class="number">0</span>  <span class="number">2</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">2</span>  <span class="number">5</span> <span class="number">-1</span>]]</span><br><span class="line"></span><br><span class="line">ainv = np.linalg.inv(a) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'a 的逆：'</span>)</span><br><span class="line"><span class="keyword">print</span> (ainv)</span><br><span class="line">a 的逆：</span><br><span class="line">[[ <span class="number">1.28571429</span> <span class="number">-0.28571429</span> <span class="number">-0.14285714</span>]</span><br><span class="line"> [<span class="number">-0.47619048</span>  <span class="number">0.14285714</span>  <span class="number">0.23809524</span>]</span><br><span class="line"> [ <span class="number">0.19047619</span>  <span class="number">0.14285714</span> <span class="number">-0.0952381</span> ]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'矩阵 b：'</span>)</span><br><span class="line">b = np.array([[<span class="number">6</span>],[<span class="number">-4</span>],[<span class="number">27</span>]]) </span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">矩阵 b：</span><br><span class="line">[[ <span class="number">6</span>]</span><br><span class="line"> [<span class="number">-4</span>]</span><br><span class="line"> [<span class="number">27</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'计算：A^(-1)B：'</span>)</span><br><span class="line">x = np.linalg.solve(a,b) </span><br><span class="line"><span class="keyword">print</span> (x)</span><br><span class="line"><span class="comment"># 这就是线性方向 x = 5, y = 3, z = -2 的解</span></span><br><span class="line">计算：A^(<span class="number">-1</span>)B：</span><br><span class="line">[[ <span class="number">5.</span>]</span><br><span class="line"> [ <span class="number">3.</span>]</span><br><span class="line"> [<span class="number">-2.</span>]]</span><br></pre></td></tr></table></figure>
<p>结果也可以使用以下函数获取：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = np.dot(ainv,b)</span><br></pre></td></tr></table></figure>
<h2 id="（二十三）NumPy-IO"><a href="#（二十三）NumPy-IO" class="headerlink" title="（二十三）NumPy IO"></a>（二十三）NumPy IO</h2><p>NumPy IO 可以读写磁盘上的文本数据或二进制数据。</p>
<p>NumPy 为 ndarray 对象引入了一个简单的文件格式：npy。</p>
<p>npy 文件用于存储重建 ndarray 所需的数据、图形、dtype 和其他信息。</p>
<p>常用的 IO 函数有：</p>
<ul>
<li>load() 和 save() 函数是读写文件数组数据的两个主要函数，默认情况下，数组是以未压缩的原始二进制格式保存在扩展名为 .npy 的文件中。 </li>
<li>savze() 函数用于将多个数组写入文件，默认情况下，数组是以未压缩的原始二进制格式保存在扩展名为 .npz 的文件中。 </li>
<li>loadtxt() 和 savetxt() 函数处理正常的文本文件(.txt 等)</li>
</ul>
<h3 id="numpy-save"><a href="#numpy-save" class="headerlink" title="numpy.save()"></a>numpy.save()</h3><p>numpy.save() 函数将数组保存到以 .npy 为扩展名的文件中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.save(file, arr, allow_pickle=T</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>file</strong>：要保存的文件，扩展名为 .npy，如果文件路径末尾没有扩展名 .npy，该扩展名会被自动加上。</li>
<li><strong>arr</strong>: 要保存的数组</li>
<li><strong>allow_pickle</strong>: 可选，布尔值，允许使用 Python pickles 保存对象数组，Python 中的 pickle 用于在保存到磁盘文件或从磁盘文件读取之前，对对象进行序列化和反序列化。</li>
<li><strong>fix_imports</strong>: 可选，为了方便 Pyhton2 中读取 Python3 保存的数据。</li>
</ul>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]) </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 保存到 outfile.npy 文件上</span></span><br><span class="line">np.save(<span class="string">'outfile.npy'</span>,a) </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 保存到 outfile2.npy 文件上，如果文件路径末尾没有扩展名 .npy，该扩展名会被自动加上</span></span><br><span class="line">np.save(<span class="string">'outfile2'</span>,a)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat outfile.npy </span><br><span class="line">?NUMPYv&#123;<span class="string">'descr'</span>: <span class="string">'&lt;i8'</span>, <span class="string">'fortran_order'</span>: False, <span class="string">'shape'</span>: (5,), &#125;  </span><br><span class="line">$ cat outfile2.npy </span><br><span class="line">?NUMPYv&#123;<span class="string">'descr'</span>: <span class="string">'&lt;i8'</span>, <span class="string">'fortran_order'</span>: False, <span class="string">'shape'</span>: (5,), &#125;</span><br></pre></td></tr></table></figure>
<p>可以看出文件是乱码的，因为它们是 Numpy 专用的二进制格式后的数据。</p>
<p>我们可以使用 load() 函数来读取数据就可以正常显示了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">b = np.load(<span class="string">'outfile.npy'</span>)  </span><br><span class="line"><span class="keyword">print</span> (b)</span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<h3 id="np-savez"><a href="#np-savez" class="headerlink" title="np.savez"></a>np.savez</h3><p>numpy.savez() 函数将多个数组保存到以 npz 为扩展名的文件中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.savez(file, *args, **kwds)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>file</strong>：要保存的文件，扩展名为 .npz，如果文件路径末尾没有扩展名 .npz，该扩展名会被自动加上。</li>
<li><strong>args</strong>: 要保存的数组，可以使用关键字参数为数组起一个名字，非关键字参数传递的数组会自动起名为 <strong>arr_0</strong>, <strong>arr_1</strong>, …　。</li>
<li><strong>kwds</strong>: 要保存的数组使用关键字名称。</li>
</ul>
<p>实例 ：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">b = np.arange(<span class="number">0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>)</span><br><span class="line">c = np.sin(b)</span><br><span class="line"><span class="comment"># c 使用了关键字参数 sin_array</span></span><br><span class="line">np.savez(<span class="string">"runoob.npz"</span>, a, b, sin_array = c)</span><br><span class="line">r = np.load(<span class="string">"runoob.npz"</span>)  </span><br><span class="line">print(r.files) <span class="comment"># 查看各个数组名称</span></span><br><span class="line">[<span class="string">'sin_array'</span>, <span class="string">'arr_0'</span>, <span class="string">'arr_1'</span>]</span><br><span class="line">print(r[<span class="string">"arr_0"</span>]) <span class="comment"># 数组 a</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br><span class="line">print(r[<span class="string">"arr_1"</span>]) <span class="comment"># 数组 b</span></span><br><span class="line">[<span class="number">0.</span>  <span class="number">0.1</span> <span class="number">0.2</span> <span class="number">0.3</span> <span class="number">0.4</span> <span class="number">0.5</span> <span class="number">0.6</span> <span class="number">0.7</span> <span class="number">0.8</span> <span class="number">0.9</span>]</span><br><span class="line">print(r[<span class="string">"sin_array"</span>]) <span class="comment"># 数组 c</span></span><br><span class="line">[<span class="number">0.</span>         <span class="number">0.09983342</span> <span class="number">0.19866933</span> <span class="number">0.29552021</span> <span class="number">0.38941834</span> <span class="number">0.47942554</span></span><br><span class="line"> <span class="number">0.56464247</span> <span class="number">0.64421769</span> <span class="number">0.71735609</span> <span class="number">0.78332691</span>]</span><br></pre></td></tr></table></figure>
<h3 id="savetxt"><a href="#savetxt" class="headerlink" title="savetxt()"></a>savetxt()</h3><p>savetxt() 函数是以简单的文本文件格式存储数据，对应的使用 loadtxt() 函数来获取数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.loadtxt(FILENAME, dtype=int, delimiter=<span class="string">' '</span>)</span><br><span class="line">np.savetxt(FILENAME, a, fmt=<span class="string">"%d"</span>, delimiter=<span class="string">","</span>)</span><br></pre></td></tr></table></figure>
<p>参数 delimiter 可以指定各种分隔符、针对特定列的转换器函数、需要跳过的行数等。</p>
<p>实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])  </span><br><span class="line">np.savetxt(<span class="string">'out.txt'</span>,a)   <span class="comment">#存储</span></span><br><span class="line">b = np.loadtxt(<span class="string">'out.txt'</span>)   <span class="comment">#命名</span></span><br><span class="line"> </span><br><span class="line">print(b)</span><br><span class="line">[<span class="number">1.</span> <span class="number">2.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">5.</span>]</span><br></pre></td></tr></table></figure>
<p>使用 delimiter 参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a=np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0.5</span>).reshape(<span class="number">4</span>,<span class="number">-1</span>)</span><br><span class="line">np.savetxt(<span class="string">"out.txt"</span>,a,fmt=<span class="string">"%d"</span>,delimiter=<span class="string">","</span>) <span class="comment"># 改为保存为整数，以逗号分隔</span></span><br><span class="line">b = np.loadtxt(<span class="string">"out.txt"</span>,delimiter=<span class="string">","</span>) <span class="comment"># load 时也要指定为逗号分隔</span></span><br><span class="line">print(b)</span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">2.</span>]</span><br><span class="line"> [<span class="number">2.</span> <span class="number">3.</span> <span class="number">3.</span> <span class="number">4.</span> <span class="number">4.</span>]</span><br><span class="line"> [<span class="number">5.</span> <span class="number">5.</span> <span class="number">6.</span> <span class="number">6.</span> <span class="number">7.</span>]</span><br><span class="line"> [<span class="number">7.</span> <span class="number">8.</span> <span class="number">8.</span> <span class="number">9.</span> <span class="number">9.</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="（二十四）NumPy-Matplotlib"><a href="#（二十四）NumPy-Matplotlib" class="headerlink" title="（二十四）NumPy  Matplotlib"></a>（二十四）NumPy  Matplotlib</h2><p><a href="https://www.runoob.com/numpy/numpy-matplotlib.html" target="_blank" rel="noopener">Matplotlib </a></p>
<p><a href="http://www.pygal.org/en/stable/" target="_blank" rel="noopener">Pygal</a></p>
<p>conda config –add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</a><br>conda config –add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge</a><br>conda config –add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</a><br>conda config –set show_channel_urls yes</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src>
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci="bf3b6228b6e577e68d28" data-cs="6cb97263d97a9d68f52875f09272ef70d9828f34" data-r="Mrxxd" data-o="Mrxxd" data-a="Mrxxd" data-d="true">查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="../js/plugin.js"></script>
<script src="../js/diaspora.js"></script>
<link rel="stylesheet" href="../photoswipe/photoswipe.css">
<link rel="stylesheet" href="../photoswipe/default-skin/default-skin.css">
<script src="../photoswipe/photoswipe.min.js"></script>
<script src="../photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
